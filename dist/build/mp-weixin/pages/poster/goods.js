(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/poster/goods"],{"10bf":function(e,t,n){"use strict";var o=n("1a89"),i=n.n(o);i.a},"1a89":function(e,t,n){},6665:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.styleList,function(t,n){var o=e.config.poster_style.indexOf(t.value.toString());return{$orig:e.__get_orig(t),g0:o}})),o=e.__map(e.typesettingList,function(t,n){var o=e.config.image_style.indexOf(t.value.toString());return{$orig:e.__get_orig(t),g1:o}});e.$mp.data=Object.assign({},{$root:{l0:n,l1:o}})},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},cc22:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){return n.e("components/page-component/app-goods-poster/app-goods-poster-one").then(n.bind(null,"6d74"))},a=function(){return n.e("components/page-component/app-goods-poster/app-goods-poster-two").then(n.bind(null,"0737"))},l=function(){return n.e("components/page-component/app-goods-poster/app-goods-poster-three").then(n.bind(null,"cc06"))},p=function(){return n.e("components/page-component/app-goods-poster/app-goods-poster-four").then(n.bind(null,"2278"))},u={name:"goods",components:{AppGoodsPosterOne:c,AppGoodsPosterTwo:a,AppGoodsPosterThree:l,AppGoodsPosterFour:p},data:function(){return{loadShow:!1,styleList:[{label:"样式一",value:1},{label:"样式二",value:2},{label:"样式三",value:3},{label:"样式四",value:4}],typesettingList:[{label:"1张图",value:1,pic_url:"https://yewi.vvv6g.cn/web/mini_images/poster/pic-one.png"},{label:"2张图",value:2,pic_url:"https://yewi.vvv6g.cn/web/mini_images/poster/pic-two.png"},{label:"3张图",value:3,pic_url:"https://yewi.vvv6g.cn/web/mini_images/poster/pic-three.png"},{label:"4张图",value:4,pic_url:"https://yewi.vvv6g.cn/web/mini_images/poster/pic-four.png"},{label:"5张图",value:5,pic_url:"https://yewi.vvv6g.cn/web/mini_images/poster/pic-five.png"}],typeList:[],colorList:[],selectForm:null,config:{color:[],image_style:[],poster_style:[]},multiple:0,info:null,posterConfig:"",posterGenerate:""}},onLoad:function(e){this.$commonLoad.onload(e);var t=e.poster_config,n=e.poster_generate;t&&n&&(this.posterConfig=unescape(t),this.posterGenerate=unescape(n),this.$nextTick(function(){this.loadData()}))},methods:{calcMultiple:function(){var t=this,n=null;n=e.createSelectorQuery().in(this),n.select("#head").boundingClientRect(function(n){t.multiple=(n.height*(750/e.getSystemInfoSync().screenWidth)-24-24)/1334}).exec()},loadData:function(){var t=this;this.$request({url:this.posterConfig}).then(function(n){t.$hideLoading(),t.loadShow=!0;var o=n.code,i=n.data,r=n.msg;0===o?(t.config=i.config,t.info=i.info,t.typeList=[{label:"纯色",value:1},{label:"渐变",value:2}],t.selectForm={color:t.config["color"][0],style:t.config["poster_style"][0],typesetting:t.config["image_style"][0],type:1},setTimeout(function(){t.calcMultiple()})):e.showToast({title:r,icon:"none"})})},changeStyle:function(e){this.selectForm.style=e},changeTypeSetting:function(e){this.selectForm.typesetting=e},changeType:function(e){this.selectForm.type=e},changeColor:function(e){this.selectForm.color=e},submitSave:function(){var t=this;this.$showLoading({text:"生成中"}),this.$request({url:this.posterGenerate,data:this.selectForm}).then(function(n){t.$hideLoading();var o=n.code,i=n.data,r=n.msg;if(0===o){var s=i.pic_url;t.$utils.batchSave(s,"image").then(function(){e.showToast({title:"保存成功"})})}else e.showToast({title:r,icon:"none"})}).catch(function(){t.$hideLoading()})}},computed:r({},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"}))};t.default=u}).call(this,n("543d")["default"])},d07c:function(e,t,n){"use strict";n.r(t);var o=n("cc22"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=i.a},ed1d:function(e,t,n){"use strict";n.r(t);var o=n("6665"),i=n("d07c");for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);n("10bf");var s=n("2877"),c=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"ebedd57a",null);t["default"]=c.exports}},[["ba80","common/runtime","common/vendor"]]]);
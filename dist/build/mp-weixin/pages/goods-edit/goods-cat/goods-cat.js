(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods-edit/goods-cat/goods-cat"],{"31d6":function(t,i,e){"use strict";var n=e("dbfd"),a=e.n(n);a.a},7954:function(t,i,e){"use strict";e.r(i);var n=e("cdff"),a=e.n(n);for(var l in n)"default"!==l&&function(t){e.d(i,t,function(){return n[t]})}(l);i["default"]=a.a},cc98:function(t,i,e){"use strict";e.r(i);var n=e("fa88"),a=e("7954");for(var l in a)"default"!==l&&function(t){e.d(i,t,function(){return a[t]})}(l);e("31d6");var s=e("2877"),o=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"1abf2b04",null);i["default"]=o.exports},cdff:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{iphone_x:!1,first:!0,cat:[],sec_list:[],third_list:[],list:[],mch_id:null,dialog:!1,index_1:0,index_2:0,index_3:0,type:"",color:""}},methods:{settingCat:function(){t.navigateTo({url:"/pages/goods-edit/cat-setting/cat-setting?mch_id="+this.mch_id})},cancel:function(){this.dialog=!1,this.sec_list=[],this.third_list=[],this.index_1=0,this.index_2=0,this.index_3=0},toAdd:function(){var i,e=this,n=e.cat[e.index_1],a=e.sec_list[e.index_2],l=e.third_list[e.index_3];if(i="未选择"==a.label?n:"未选择"==l.label?a:l,e.list.length>0){var s=!0,o=!1,c=void 0;try{for(var d,r=e.list[Symbol.iterator]();!(s=(d=r.next()).done);s=!0){var h=d.value;if(h.value==i.value)return t.showToast({title:"请勿重复添加",icon:"none",duration:1e3}),!1}}catch(u){o=!0,c=u}finally{try{s||null==r.return||r.return()}finally{if(o)throw c}}}setTimeout(function(){e.list.push(i),e.dialog=!1,e.index_1=0,e.index_2=0,e.index_3=0})},getCat:function(){var i=this,e=0==this.mch_id?i.$api.app_admin.cat:"mall"==i.type?i.$api.mch.cat:i.$api.mch.mch_cat;i.$request({url:e,data:{mch_id:i.mch_id}}).then(function(e){if(i.$hideLoading(),t.hideLoading(),i.first=!1,0==e.code){if(i.cat=e.data.list,i.list.length>0){var n=JSON.parse(JSON.stringify(i.list));i.list=[];var a=!0,l=!1,s=void 0;try{for(var o,c=n[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var d=o.value,r=!0,h=!1,u=void 0;try{for(var f,_=i.cat[Symbol.iterator]();!(r=(f=_.next()).done);r=!0){var g=f.value;if(d.value==g.value)i.list.push(d);else if(g.children){var v=!0,m=!1,y=void 0;try{for(var x,p=g.children[Symbol.iterator]();!(v=(x=p.next()).done);v=!0){var S=x.value;if(d.value==S.value)i.list.push(d);else if(S.children){var b=!0,$=!1,w=void 0;try{for(var O,L=S.children[Symbol.iterator]();!(b=(O=L.next()).done);b=!0){var C=O.value;d.value==C.value&&i.list.push(d)}}catch(k){$=!0,w=k}finally{try{b||null==L.return||L.return()}finally{if($)throw w}}}}}catch(k){m=!0,y=k}finally{try{v||null==p.return||p.return()}finally{if(m)throw y}}}}}catch(k){h=!0,u=k}finally{try{r||null==_.return||_.return()}finally{if(h)throw u}}}}catch(k){l=!0,s=k}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}}}else t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){i.$hideLoading(),t.hideLoading()})},delCat:function(t){this.list.splice(t,1)},bindChange:function(t){var i=this;t.detail.value[0]<0&&(t.detail.value[0]=0),i.index_1==t.detail.value[0]?i.index_2==t.detail.value[1]?i.index_3=+t.detail.value[2]:(i.index_2=+t.detail.value[1],i.index_3=0,i.third_list=[{label:"未选择",value:""}],i.sec_list[i.index_2].children&&(i.third_list=i.third_list.concat(i.sec_list[i.index_2].children))):(i.index_1=+t.detail.value[0],i.index_2=0,i.index_3=0,i.sec_list=[{label:"未选择",value:""}],i.third_list=[{label:"未选择",value:""}],i.cat[i.index_1].children&&(i.sec_list=i.sec_list.concat(i.cat[i.index_1].children),i.sec_list[0].children&&(i.third_list=i.third_list.concat(i.sec_list[0].children))))},save:function(){0==this.mch_id?this.$storage.setStorageSync("goods_cat",this.list):"mall"==this.type?this.$storage.setStorageSync("mch_goods_cat",this.list):this.$storage.setStorageSync("mch_goods_mch_cat",this.list),setTimeout(function(){t.navigateBack()},500)},add:function(){this.dialog=!0,this.sec_list=[{label:"未选择",value:""}],this.third_list=[{label:"未选择",value:""}],this.cat[0].children&&(this.sec_list=this.sec_list.concat(this.cat[0].children),this.sec_list[0].children&&(this.third_list=this.third_list.concat(this.sec_list[0].children)))}},onShow:function(){this.first||(t.showLoading({mask:!0}),this.getCat())},onLoad:function(i){this.$commonLoad.onload(i);var e=this;e.$showLoading({type:"global",text:"加载中..."}),this.type=i.type?i.type:"",this.mch_id=i.mch_id?i.mch_id:0,this.color=i.mch_id?"#ff4544":"#446dfd",0==this.mch_id?this.list=this.$storage.getStorageSync("goods_cat")?this.$storage.getStorageSync("goods_cat"):[]:"mall"==this.type?this.list=this.$storage.getStorageSync("mch_goods_cat")?this.$storage.getStorageSync("mch_goods_cat"):[]:this.list=this.$storage.getStorageSync("mch_goods_mch_cat")?this.$storage.getStorageSync("mch_goods_mch_cat"):[],t.getSystemInfo({success:function(t){(t.model.indexOf("iPhone X")>-1||t.model.indexOf("iPhone 11")>-1||t.model.indexOf("iPhone11")>-1||t.model.indexOf("iPhone12")>-1||t.model.indexOf("Unknown Device")>-1)&&(e.iphone_x=!0)}}),e.getCat()}};i.default=e}).call(this,e("543d")["default"])},dbfd:function(t,i,e){},fa88:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement;t._self._c},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})}},[["e9a1","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/balance/password"],{"3df3":function(t,s,e){"use strict";var r=function(){var t=this,s=t.$createElement;t._self._c},a=[];e.d(s,"a",function(){return r}),e.d(s,"b",function(){return a})},"7e38":function(t,s,e){},"9d73":function(t,s,e){"use strict";var r=e("7e38"),a=e.n(r);a.a},de94:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=e("2f62");function a(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,r)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?a(e,!0).forEach(function(s){n(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(e).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}function n(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}var i={name:"password",data:function(){return{is_success:!1,old_pay_password:"",pay_password:"",verify_pay_password:"",haveBackground:!1,isPassword:!1}},computed:o({},(0,r.mapState)({userInfo:function(t){return t.user.info},mall:function(t){return t.mallConfig.mall}}),{inputPass:function(){return this.userInfo&&this.userInfo.is_pay_password?this.old_pay_password.length+this.pay_password.length+this.verify_pay_password.length==18:this.pay_password.length+this.verify_pay_password.length==12}}),onLoad:function(){var s=this;s.$request({url:s.$api.balance.index}).then(function(s){0===s.code&&0==s.data.setting.is_pay_password&&(t.showToast({icon:"none",title:"支付密码功能未开启"}),setTimeout(function(){t.navigateBack()},1e3))}),this.isPassword=!0},methods:{toForget:function(){t.navigateTo({url:"/pages/balance/forget"})},toIndex:function(){t.reLaunch({url:"/pages/index/index"})},modify:function(){var s=this;if(this.inputPass)if(this.verify_pay_password=this.verify_pay_password.trim(),this.pay_password=this.pay_password.trim(),this.old_pay_password=this.old_pay_password.trim(),this.pay_password===this.verify_pay_password){this.$showLoading({type:"global",text:"设置中..."});var e={pay_password:this.pay_password,verify_pay_password:this.verify_pay_password};this.userInfo.is_pay_password&&(e.old_pay_password=this.old_pay_password),this.$request({url:this.userInfo.is_pay_password?this.$api.member.update_password:this.$api.member.set_password,method:"post",data:e}).then(function(e){s.$hideLoading(),0===e.code?(s.is_success=!0,s.$store.dispatch("user/refresh"),t.showToast({title:e.msg,type:"success"})):t.showToast({icon:"none",title:e.msg})})}else t.showToast({icon:"none",title:"两次输入的密码不一致"})}}};s.default=i}).call(this,e("543d")["default"])},f288:function(t,s,e){"use strict";e.r(s);var r=e("de94"),a=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(s,t,function(){return r[t]})}(o);s["default"]=a.a},f532:function(t,s,e){"use strict";e.r(s);var r=e("3df3"),a=e("f288");for(var o in a)"default"!==o&&function(t){e.d(s,t,function(){return a[t]})}(o);e("9d73");var n=e("2877"),i=Object(n["a"])(a["default"],r["a"],r["b"],!1,null,"6c7d729d",null);s["default"]=i.exports}},[["2f21","common/runtime","common/vendor"]]]);
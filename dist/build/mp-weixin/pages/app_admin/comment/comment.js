(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/app_admin/comment/comment"],{"1bb2":function(t,i,e){"use strict";(function(t){function e(t){return o(t)||n(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={name:"comment",data:function(){return{list:[],over:!1,page:1,is_reply:2,score:3,first:!0}},onLoad:function(){var t=this;this.$commonLoad.onload(),this.$showLoading({type:"global",text:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:3,is_reply:2,page:1}}).then(function(i){t.$hideLoading(),0===i.code&&(t.first=!1,t.list=i.data.list)})},onReachBottom:function(){this.over||(this.page++,this.request())},onShow:function(){var t=this;if(this.first)return!1;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){if(0===i.code)for(var e in i.data.list)for(var s in t.list)t.list=i.data.list})},methods:{setActiveNav:function(i){var e=this;this.page=1,this.score=i,this.is_reply=2,this.over=!1,t.pageScrollTo({scrollTop:0}),t.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){t.hideLoading(),0===i.code&&(e.list=i.data.list)})},setActiveReply:function(i){var e=this;this.page=1,this.is_reply=i,this.over=!1,t.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){t.hideLoading(),0===i.code&&(e.list=i.data.list)})},request:function(){var t=this;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){0===i.code&&(i.data.list.length>0?t.list=[].concat(e(t.list),e(i.data.list)):t.over=!0)})},isTop:function(i,e){var s=this,n=1==i.is_top?0:1;s.$request({url:s.$api.app_admin.comments_top,method:"POST",data:{status:n,id:i.id}}).then(function(o){0===o.code&&(i.is_top=n,s.list.splice(e,1,i),t.showToast({title:o.msg,icon:"none"}))})},isShow:function(t){var i=this;0===t.is_show?this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:1,id:t.id}}).then(function(e){if(0===e.code)for(var s=0;s<i.list.length;s++)t.id===i.list[s].id&&(i.list[s].is_show=1)}):this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:0,id:t.id}}).then(function(e){if(0===e.code)for(var s=0;s<i.list.length;s++)t.id===i.list[s].id&&(i.list[s].is_show=0)})}}};i.default=a}).call(this,e("543d")["default"])},"430c":function(t,i,e){"use strict";e.r(i);var s=e("1bb2"),n=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(i,t,function(){return s[t]})}(o);i["default"]=n.a},"47c3":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement;t._self._c},n=[];e.d(i,"a",function(){return s}),e.d(i,"b",function(){return n})},b3c2:function(t,i,e){"use strict";var s=e("b660"),n=e.n(s);n.a},b56c:function(t,i,e){"use strict";e.r(i);var s=e("47c3"),n=e("430c");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("b3c2");var a=e("2877"),r=Object(a["a"])(n["default"],s["a"],s["b"],!1,null,"dbcaf8b6",null);i["default"]=r.exports},b660:function(t,i,e){}},[["6448","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/page-component/app-diy-form/app-diy-form"],{2821:function(t,e,a){"use strict";a.r(e);var i=a("87eb"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"4d7e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.myList,function(e,a){var i=t.uploadShowImage(e);return{$orig:t.__get_orig(e),m0:i}}));t._isMounted||(t.e0=function(e){t.showAllItems=!t.showAllItems}),t.$mp.data=Object.assign({},{$root:{l0:a}})},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},6857:function(t,e,a){"use strict";var i=a("90b67"),n=a.n(i);n.a},"7d93":function(t,e,a){"use strict";a.r(e);var i=a("4d7e"),n=a("2821");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("6857");var u=a("2877"),l=Object(u["a"])(n["default"],i["a"],i["b"],!1,null,"3f3adae4",null);e["default"]=l.exports},"87eb":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return a.e("components/basic-component/app-datetime-picker/app-datetime-picker").then(a.bind(null,"3e52"))},n=function(){return a.e("components/basic-component/app-radio/app-radio").then(a.bind(null,"3ac8"))},o=function(){return a.e("components/basic-component/app-radio/app-radio-group").then(a.bind(null,"bf87"))},u=function(){return a.e("components/page-component/app-diy-form/app-diy-form-checkbox-group").then(a.bind(null,"274d"))},l=function(){return Promise.all([a.e("common/vendor"),a.e("components/basic-component/app-upload-image/app-upload-image")]).then(a.bind(null,"798e"))},s=function(){return a.e("components/basic-component/app-textarea/app-textarea").then(a.bind(null,"47cb"))},r={name:"app-diy-form",components:{AppTextarea:s,AppUploadImage:l,AppDiyFormCheckboxGroup:u,AppRadioGroup:o,AppRadio:n,AppDatetimePicker:i},props:{sign:{default:null},datePadding:{type:String,default:"0 24rpx"},title:{type:String,default:null},backgroundColor:{default:"#ffffff"},backgroundImage:{default:null},backgroundPosition:{default:"center"},backgroundWidth:{default:100},backgroundHeight:{default:100},backgroundRepeat:{default:"no-repeat"},marginTop:{default:0},marginBottom:{default:0},paddingTop:{default:0},paddingBottom:{default:0},list:{type:Array,default:[]},showRequiredIcon:{type:Boolean,default:!1},itemPaddingX:{default:24},itemMarginY:{default:0},itemHeight:{type:Number,default:88},showItemBorder:{default:!0},labelPosition:{default:"left"},labelColor:{default:"#666666"},labelTextAlign:{default:"right"},showInputBorder:{type:Boolean,default:!1},inputBackground:{default:"#ffffff"},inputBorderColor:{default:"#c0c4cc"},inputTextColor:{default:"#666666"},inputPlaceholderColor:{default:"#bbbbbb"},inputRadius:{default:0},showSubmit:{type:Boolean,default:!1},submitUrl:{type:String,default:null},submitBtnText:{default:"提交"},submitBtnHeight:{default:80},submitBtnPadding:{default:24},submitBtnMargin:{default:40},submitBtnRadius:{default:40},submitBtnBackground:{default:"#ff4544"},submitBtnBorderColor:{default:"#ff4544"},submitBtnTextColor:{default:"#ffffff"},showScrollBtn:{default:!1},labelFs28:{default:!1},marginColor:{default:"#ffffff"},selectBoxColor:{default:"#ff4544"}},data:function(){var t=[];for(var e in this.list){var a=this.list[e];if("undefined"!==typeof a.default&&null!==a.default&&""!==a.default||("text"!==a.key&&"textarea"!==a.key&&"time"!==a.key&&"date"!==a.key||(a.default=""),"radio"!==a.key&&"checkbox"!==a.key||(a.default=[])),"undefined"!==typeof a.value&&null!==a.value&&""!==a.value||(a.value=a.default),a.hint=a.hint||"","radio"===a.key||"checkbox"===a.key)for(var i in a.list||(a.list=[]),a.list)a.list[i].value&&!1!==a.list[i].value&&"false"!==a.list[i].value?a.list[i].value=!0:a.list[i].value=!1;"img_upload"!==a.key||2!==a.img_type&&"2"!==a.img_type||a.value||(a.value=["",""]),a.key,t[e]=a}return{myList:t,randomString:"",validateResult:{hasError:!1,errors:[]},showAllItems:!0}},computed:{uploadShowImage:function(){return function(t){return Array.isArray(t.value)?t.value:t.value?[t.value]:null}},itemClass:function(){return"left"===this.labelPosition?"label-left dir-left-nowrap cross-top":"inset"===this.labelPosition?"label-inset dir-left-nowrap cross-top":"top"===this.labelPosition?"label-top":void 0},getDateTimeTextPosition:function(){return"top"===this.labelPosition?"left":"right"},getInputPaddingLeft:function(){return"top"===this.labelPosition?this.showInputBorder?24:0:24}},created:function(){this.validate(),this.outputData()},methods:{textInput:function(){this.outputData()},datetimeChange:function(){this.outputData()},checkChange:function(){var t=this;setTimeout(function(){t.outputData()},10)},handleImageUpload:function(t){var e=t.sign,a=t.imageList,i=parseInt(e);1===a.length?this.myList[i].value=a[0]:a.length>0?this.myList[i].value=a:this.myList[i].value="",this.outputData()},handleUserIdFrontUpload:function(t){var e=t.sign,a=t.imageList,i=parseInt(e);a.length>0?this.myList[i].value[0]=a[0]:this.myList[i].value[0]="",this.outputData()},handleUserIdBackUpload:function(t){var e=t.sign,a=t.imageList,i=parseInt(e);a.length>0?this.myList[i].value[1]=a[0]:this.myList[i].value[1]="",this.outputData()},validate:function(){for(var t in this.validateResult={hasError:!1,errors:[]},this.myList){var e=this.myList[t];if(1===e.is_required||"1"===e.is_required){if("undefined"===typeof e.value||null===e.value||""===e.value||-1!==["radio","checkbox"].indexOf(e.key)&&!e.value.length){this.validateResult.hasError=!0,this.validateResult.errors.push({index:t,msg:'"'.concat(e.name,'"不能为空。')});continue}if(e.img_type&&2===parseInt(e.img_type)){if(!e.value||!e.value.length){this.validateResult.hasError=!0,this.validateResult.errors.push({index:t,msg:'"'.concat(e.name,'"不能为空。')});continue}var a=!1;for(var i in e.value)if(null===e.value[i]||""===e.value[i]){a=!0;break}if(a){this.validateResult.hasError=!0,this.validateResult.errors.push({index:t,msg:'"'.concat(e.name,'"不能为空。')});continue}}}}this.$emit("validate",{result:this.validateResult,sign:this.sign})},outputData:function(){for(var t in this.validate(),this.myList)this.myList[t].label=this.myList[t].name,this.myList[t].required=this.myList[t].is_required;this.$emit("input",{data:this.myList,sign:this.sign})},submit:function(){var e=this;this.outputData(),this.validateResult.hasError&&this.validateResult.errors?t.showModal({title:"提示",content:this.validateResult.errors[0].msg,showCancel:!1}):(t.showLoading({mask:!0,title:"正在提交..."}),this.$request({url:this.submitUrl?this.submitUrl:this.$api.diy.page_store,method:"post",data:{form_data:JSON.stringify(this.myList)}}).then(function(a){t.hideLoading(),0===a.code?(setTimeout(function(){var t=e.myList;for(var a in t)t[a].value=t[a].default;e.myList=[],setTimeout(function(){e.myList=t},0)},300),t.showModal({title:"提示",content:a.msg||"提交成功",showCancel:!1})):t.showModal({title:"提示",content:a.msg||"提交失败",showCancel:!1})}).catch(function(){t.hideLoading()}))}}};e.default=r}).call(this,a("543d")["default"])},"90b67":function(t,e,a){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/page-component/app-diy-form/app-diy-form-create-component',
    {
        'components/page-component/app-diy-form/app-diy-form-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("7d93"))
        })
    },
    [['components/page-component/app-diy-form/app-diy-form-create-component']]
]);                

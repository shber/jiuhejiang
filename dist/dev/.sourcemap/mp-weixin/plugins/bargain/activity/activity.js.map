{"version":3,"sources":["webpack:///./src/plugins/bargain/activity/activity.vue?55ca","webpack:///./src/plugins/bargain/activity/activity.vue?58fc","webpack:///./src/plugins/bargain/activity/activity.vue?ba12","webpack:///./src/plugins/bargain/activity/activity.vue?8a93","webpack:///./src/plugins/bargain/activity/activity.vue","webpack:///./src/plugins/bargain/activity/activity.vue?eeb5"],"names":["__webpack_require__","r","__webpack_exports__","_activity_vue_vue_type_template_id_779c3b9a_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_activity_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_activity_vue_vue_type_template_id_779c3b9a_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","dialog","e1","tip","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_activity_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_activity_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","name","data","detail","bargain_price_per","list","distance","more","sizeAnimation","status","animationData","kanjia","info","bargain","toMore","page","dd","hh","mm","ss","changeTimer","timer","title","order_id","computed","_objectSpread","mapState","userInfo","state","user","bargainImg","mallConfig","plugin","mall","onShareAppMessage","hShareAppMessage","onUnload","clearInterval","onLoad","$commonLoad","onload","that","$store","dispatch","$showLoading","type","text","getSetting","getInfo","setInterval","join","id","getDetail","bargain_order_id","user_id","changeSize","methods","s","arguments","length","undefined","$shareAppMessage","path","imageUrl","app_share_pic","params","toRules","uni","navigateTo","url","concat","encodeURIComponent","$api","setting","$request","then","response","code","toString","indexOf","split","index","Math","floor","random","showToast","msg","icon","duration","catch","$hideLoading","user_join_bargain","queueId","token","result","user_join_bargain_result","retry","setTimeout","bargainAnimation","activity","total_people","reset_time","getTime","showModal","content","showCancel","success","res","confirm","redirectTo","time","$forceUpdate","lookMore","closeList","slice","animation","createAnimation","timingFunction","scale","step","rotate","export","size","toIndex","reLaunch","toBuy","mchList","mch_id","goods_list","goods_id","attr","num","cart_id","goods_attr_id","JSON","stringify","order_preview","order_submit","toJoin","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_activity_vue_vue_type_style_index_0_id_779c3b9a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_activity_vue_vue_type_style_index_0_id_779c3b9a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"plugins/bargain/activity/activity.js","sourcesContent":["import { render, staticRenderFns } from \"./activity.vue?vue&type=template&id=779c3b9a&scoped=true&filter-modules=%7B%7D&\"\nimport script from \"./activity.vue?vue&type=script&lang=js&\"\nexport * from \"./activity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activity.vue?vue&type=style&index=0&id=779c3b9a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"779c3b9a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('779c3b9a')) {\n      api.createRecord('779c3b9a', component.options)\n    } else {\n      api.reload('779c3b9a', component.options)\n    }\n    module.hot.accept(\"./activity.vue?vue&type=template&id=779c3b9a&scoped=true&filter-modules=%7B%7D&\", function () {\n      api.rerender('779c3b9a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/plugins/bargain/activity/activity.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity.vue?vue&type=template&id=779c3b9a&scoped=true&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.dialog = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.tip = \"\"\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from \"vuex\";\n\nexport default {\n    name: \"activity\",\n    data() {\n        return {\n            detail: {\n                bargain_price_per: 0\n            },\n            list: [],\n            distance: 0,\n            more: false,\n            sizeAnimation: {},\n            status: 1,\n            animationData: '',\n            kanjia: false,\n            dialog: false,\n            info: {},\n            bargain: {},\n            toMore: false,\n            page: 1,\n            dd: 0,\n            hh:23,\n            mm:59,\n            ss:59,\n            changeTimer: null,\n            timer: null,\n            tip: '',\n            title: '',\n            order_id: '',\n            // rules: ''\n        }\n    },\n    computed: {\n        ...mapState({\n            userInfo: state => state.user.info,\n            bargainImg: state => state.mallConfig.plugin.bargain,\n            mall: state => state.mallConfig.mall\n        }),\n    },\n\n    onShareAppMessage() {\n       return this.hShareAppMessage();\n    },\n\n    onUnload() {\n        clearInterval(this.timer);\n        clearInterval(this.changeTimer);\n    },\n    onLoad(options) { this.$commonLoad.onload(options);\n        var that = this;\n        that.$store.dispatch('user/info');\n        that.$showLoading({\n            type: 'global',\n            text: '加载中...'\n        });\n        that.getSetting();\n        let getInfo = setInterval(function () {\n            if(that.userInfo) {\n                clearInterval(getInfo);\n                if (options.order_id) {\n                    that.join(options.order_id);\n                    that.order_id = options.order_id;\n                } else if (options.id) {\n                    that.getDetail(options.id,1)\n                    that.order_id = options.id;\n                } else if (options.bargain_order_id) {\n                    that.order_id = options.bargain_order_id;\n                    if (options.user_id == that.userInfo.options.user_id) {\n                        that.getDetail(options.bargain_order_id, 1)\n                    } else {\n                        that.status = 2;\n                        that.join(options.bargain_order_id)\n                    }\n                }\n                that.changeTimer = setInterval(() => {\n                    that.changeSize();\n                }, 300) \n            }\n        }, 300)  \n    },\n\n    methods: {\n        hShareAppMessage(s = false){\n            let that = this;\n            return this.$shareAppMessage({\n                title: that.title,\n                path: \"/plugins/bargain/activity/activity\",\n                imageUrl: that.detail.app_share_pic ? that.detail.app_share_pic : '',\n                params: {\n                    user_id: that.userInfo.options.user_id,\n                    bargain_order_id: that.order_id,\n                }\n            },s);\n        },\n        toRules() {\n            // uni.navigateTo({\n            //     url: '/plugins/bargain/rule/rule?rules=' + this.rules\n            // })\n            uni.navigateTo({\n                url: `/pages/rules/index?url=${encodeURIComponent(this.$api.bargain.setting)}&key=rule`,\n            });\n        },\n\n        getSetting() {\n            let that = this;\n            that.$request({\n                url: that.$api.bargain.setting,\n            }).then(response=>{\n                if(response.code === 0) {\n                    that.title = response.data.title.toString();\n                    // that.rules = response.data.rule;\n                    if(response.data.title.indexOf(\"\\n\") > -1) {\n                        let title = response.data.title.split(\"\\n\");\n                        let index = Math.floor(Math.random() * title.length);\n                        that.title = title[index]\n                    }\n                }else {\n                    uni.showToast({\n                        title: response.msg,\n                        icon: 'none',\n                        duration: 1000\n                    });\n                }\n            }).catch(response => {\n                that.$hideLoading();\n            });\n        },\n        join(bargain_order_id) {\n            let that = this;\n            that.$request({\n                url: that.$api.bargain.user_join_bargain,\n                data: {\n                    bargain_order_id: bargain_order_id\n                },\n            }).then(response=>{\n                if(response.code == 0) {\n                    let queueId = response.data.queueId;\n                    let token = response.data.token;\n                    that.result(queueId, token, bargain_order_id)\n                }else {\n                    uni.showToast({\n                        title: response.msg,\n                        icon: 'none',\n                        duration: 1000\n                    });\n                    if (response.msg == \"用户已参与本次砍价\") {\n                        that.getDetail(bargain_order_id, 1)\n                    }\n                }\n            }).catch(response => {\n                that.$hideLoading();\n            });\n        },\n        result(queueId, token, bargain_order_id) {\n            let that = this;\n            that.$request({\n                url: that.$api.bargain.user_join_bargain_result,\n                data: {\n                    queueId: queueId,\n                    token: token\n                },\n            }).then(response=>{\n                if(response.code == 0) {\n                    if (response.data.retry == 1) {\n                        setTimeout(() => {\n                            that.result(queueId, token, bargain_order_id)\n                        }, 1000)\n                    } else {\n                        that.$hideLoading();\n                        that.info = response.data.info;\n                        that.bargain = response.data.bargain;\n                        that.bargainAnimation();\n                        that.getDetail(bargain_order_id, 1)\n                    }\n                }else {\n                    if (response.msg == \"已砍至最低价\") {\n                        that.tip = response.msg;\n                        that.getDetail(bargain_order_id, 1)\n                    }else {\n                        uni.showToast({\n                            title: response.msg,\n                            icon: 'none',\n                            duration: 1000\n                        });\n                    }\n                }\n            }).catch(response => {\n                that.$hideLoading();\n            });\n        },\n        getDetail(bargain_order_id,page) {\n            let that = this;\n            that.$request({\n                url: that.$api.bargain.activity,\n                data: {\n                    bargain_order_id: bargain_order_id,\n                    page: page\n                },\n            }).then(response=>{\n                setTimeout(function(){\n                    that.$hideLoading();\n                },500)\n                if(response.code == 0) {\n                    if (response.data.list.length > 0) {\n                        that.detail = response.data;\n                        if (response.data.total_people > 3) {\n                                that.toMore = true;\n                            if (response.data.list.length == 3) {\n                                that.more = true;\n                            }else {\n                                that.more = false;\n                            }\n                        }\n                        that.list = that.list.concat(response.data.list);\n                        if(page == 1) {\n                            let reset_time = that.detail.reset_time;\n                            that.timer = setInterval(() => {\n                                reset_time--;\n                                that.getTime(reset_time);\n                                if(that.reset_time == 0) {\n                                    clearInterval(that.timer)\n                                }\n                            }, 1000)\n                        }\n                    } else {\n                        that.tip = '暂无更多用户'\n                        that.toMore = false\n                    }\n                }else {\n                    uni.showModal({\n                        title: '提示',\n                        content: response.data.msg,\n                        showCancel: false,\n                        success: function (res) {\n                            if (res.confirm) {\n                                uni.redirectTo({\n                                    url: '/pages/index/index'\n                                });\n                            }\n                        }\n                    });\n                }\n            }).catch(response => {\n                that.$hideLoading();\n            });\n        },\n        getTime(time) {\n            if(time > 86399) {\n                this.dd = Math.floor(time / 86400)\n                time = time - (86400*this.dd)\n            }else {\n                this.dd = 0\n            }\n            if(time > 3599) {\n                this.hh = Math.floor(time / 3600)\n                if(this.hh < 10) {\n                    this.hh = '0' + this.hh\n                }\n                time = time - (3600*this.hh)\n            }else {\n                this.hh = '00'\n            }\n            if(time > 59) {\n                this.mm = Math.floor(time / 60)\n                if(this.mm < 10) {\n                    this.mm = '0' + this.mm\n                }\n                time = time - (60*this.mm)\n            }else {\n                this.mm = '00';\n            }\n            if(time < 60) {\n                this.ss = time;\n                if(this.ss < 10) {\n                    this.ss = '0' + this.ss\n                }\n            }\n        },\n        // 砍价动画\n        bargainAnimation() {\n            let that = this;\n            that.kanjia = true;\n            that.dialog = true;\n            setTimeout(function() {\n                that.kanjia = false;\n                that.success();\n            },1200)\n            that.$forceUpdate();\n        },\n        // 查看更多\n        lookMore() {\n            this.page++;\n            this.getDetail(this.order_id,this.page)\n        },\n        // 收起\n        closeList() {\n            this.list = this.list.slice(0,3);\n            this.page = 1;\n            this.more = true;\n        },\n        // 砍价成功\n        success() {\n            let that = this;\n            this.dialog = true;\n            var animation = uni.createAnimation({\n                duration: 500,\n                timingFunction: 'linear'\n            })\n            this.animation = animation;\n            animation.scale(1).step().rotate(2).step().rotate(-2).step().rotate(0).step();\n            this.animationData = animation.export();\n        },\n        // 按钮动画\n        changeSize() {\n            var size = uni.createAnimation({\n                duration: 1000,\n                timingFunction: 'linear'\n            })\n            this.size = size;\n            size.scale(0.8).step().scale(1).step();\n            this.sizeAnimation = size.export();\n        },\n        toIndex() {\n            uni.reLaunch({\n                url:'/pages/index/index'\n            })\n        },\n        toBuy() {\n            const bargain = this.detail;\n            const mchList = [{\n                \"mch_id\": 0,\n                \"bargain_order_id\": bargain.bargain_order_id,\n                \"goods_list\": [{\n                    \"id\": bargain.goods_id,\n                    \"attr\": [],\n                    \"num\": 1,\n                    \"cart_id\": 0,\n                    \"goods_attr_id\": bargain.goods_attr_id\n                }]\n            }];\n            uni.navigateTo({\n                url: '/pages/order-submit/order-submit?mch_list=' +\n                    JSON.stringify(mchList) +\n                    '&preview_url=' + encodeURIComponent(this.$api.bargain.order_preview) +\n                    '&submit_url=' + encodeURIComponent(this.$api.bargain.order_submit)\n            });\n        },\n        \n        toJoin() {\n            if (this.detail.goods_id) {\n                uni.navigateTo({\n                    url: '/plugins/bargain/goods/goods?goods_id=' + this.detail.goods_id,\n                }) \n            } else {\n                uni.showModal({\n                    title: '提示',\n                    content: '活动已结束',\n                    showCancel: false,\n                    success: function(res) {\n                        if (res.confirm) {\n                            uni.redirectTo({\n                                url: '/pages/index/index'\n                            });\n                        }\n                    }\n                });\n            }\n        },\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity.vue?vue&type=style&index=0&id=779c3b9a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity.vue?vue&type=style&index=0&id=779c3b9a&scoped=true&lang=scss&\""],"sourceRoot":""}
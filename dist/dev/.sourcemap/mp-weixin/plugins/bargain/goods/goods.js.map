{"version":3,"sources":["webpack:///external \"../siteinfo.js\"","webpack:///./src/plugins/bargain/goods/goods.vue?5d1e","webpack:///./src/plugins/bargain/goods/goods.vue?7322","webpack:///./src/plugins/bargain/goods/goods.vue?e539","webpack:///./src/plugins/bargain/goods/goods.vue?2877","webpack:///./src/plugins/bargain/goods/goods.vue","webpack:///./src/plugins/bargain/goods/goods.vue?8a4c"],"names":["module","exports","require","__webpack_require__","r","__webpack_exports__","_goods_vue_vue_type_template_id_ccb09fb0_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_ccb09fb0_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_vuex","name","components","appQuickNavigation","appRichText","appGoodsBanner","appShareQrCode","appPluginTimeBar","appClose","bdCoupon","bdXbc","bdKb","bdHc","bdComments","bdInfoExtra","computed","_objectSpread","mapState","appImg","state","mallConfig","plugin","bargain","app_image","userInfo","user","info","isUnderlinePrice","mall","setting","is_underline_price","iphone","data","iphoneHeight","mapGetters","getTheme","compareTime","getStamp","time","arguments","length","undefined","trim","substring","replace","Date","getTime","_this$bargain","begin_time","end_time","begin_time_stamp","end_time_stamp","time_stamp","showClose","is_open","timeIntegral","goods_id","finish_list","begin_list","end_list","shareShow","title","page","circuit","url","goods","poster","$api","isUnderlinePirce","poster_config","poster_generate","onLoad","$commonLoad","onload","wx","showShareMenu","menus","self","$store","dispatch","$showLoading","$request","goods_detail","then","$hideLoading","code","func","setTimeStart","bargain_info","finish_at","setInterval","uni","showToast","icon","msg","navigateBack","catch","onShow","_this","setTimeout","onUnload","clearInterval","onShareAppMessage","shareMessage","onShareTimeline","$shareTimeline","app_share_title","query","methods","s","$shareAppMessage","path","imageUrl","app_share_pic","cover_pic","desc","subtitle","params","getMall","e","bargainFriend","navigateTo","bargain_order_id","diff_time","parseInt","day","hour","minute","second","Math","floor","toString","h","m","subscribe","limit_buy","status","rest_number","$tips","text","$subscribe","template_message","res","save","bargain_submit","bargainResult","bargain_result","queueId","token","retry","redirectTo","submit","mchList","mch_id","goods_list","id","attr","num","cart_id","goods_attr_id","JSON","stringify","encodeURIComponent","order_preview","order_submit","shareClick","setCoupon","index","$set","goods_coupon_center","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_id_ccb09fb0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_id_ccb09fb0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"plugins/bargain/goods/goods.js","sourcesContent":["module.exports = require(\"../siteinfo.js\");","import { render, staticRenderFns } from \"./goods.vue?vue&type=template&id=ccb09fb0&scoped=true&filter-modules=%7B%7D&\"\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=ccb09fb0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ccb09fb0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ccb09fb0')) {\n      api.createRecord('ccb09fb0', component.options)\n    } else {\n      api.reload('ccb09fb0', component.options)\n    }\n    module.hot.accept(\"./goods.vue?vue&type=template&id=ccb09fb0&scoped=true&filter-modules=%7B%7D&\", function () {\n      api.rerender('ccb09fb0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/plugins/bargain/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=ccb09fb0&scoped=true&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport {mapGetters, mapState} from 'vuex';\nimport appQuickNavigation from \"../../../components/page-component/app-quick-navigation/app-quick-navigation\";\nimport appRichText from \"../../../components/basic-component/app-rich/parse.vue\";\nimport appGoodsBanner from \"../../../components/page-component/goods/app-goods-banner.vue\";\nimport appShareQrCode from '../../../components/page-component/app-share-qr-code-poster/app-share-qr-code-poster.vue';\nimport appPluginTimeBar from '../components/app-plugin-time-bar.vue';\nimport bdCoupon from '@/components/page-component/goods/bd-coupon.vue';\nimport bdXbc from '@/components/page-component/goods/bd-xbc.vue';\nimport bdKb from '@/components/page-component/goods/bd-kb.vue';\nimport bdHc from '@/components/page-component/goods/bd-hc.vue';\nimport bdComments from '@/components/page-component/goods/bd-comments.vue';\nimport appClose from '@/components/basic-component/app-close/app-close.vue';\nimport bdInfoExtra from '@/components/page-component/goods/bd-info-extra.vue';\n\nexport default {\n    name: \"goods\",\n    components: {\n        appQuickNavigation,\n        appRichText,\n        appGoodsBanner,\n        appShareQrCode,\n        appPluginTimeBar,\n        appClose,\n        bdCoupon,\n        bdXbc,\n        bdKb,\n        bdHc,\n        bdComments,\n\t\tbdInfoExtra\n    },\n    computed: {\n        ...mapState({\n            appImg: state => state.mallConfig.plugin.bargain.app_image,\n            userInfo: state => state.user.info,\n            isUnderlinePrice: state => state.mallConfig.mall.setting.is_underline_price,\n        }),\n        ...mapState('gConfig', {\n            iphone: (data) => {\n                return data.iphone;\n            },\n            iphoneHeight: (state) => {\n                return state.iphoneHeight;\n            },\n        }),\n        ...mapGetters('mallConfig', {\n            getTheme: 'getTheme',\n        }),\n        compareTime() {\n            if (this.bargain) {\n                let {begin_time, end_time} = this.bargain;\n\n                function getStamp(time = '') {\n                    if (time) {\n                        time = time.trim().substring(0, 19);\n                        time = time.replace(/-/g, '/');\n                        return new Date(time).getTime();\n                    }\n                    return new Date().getTime();\n                }\n\n                let begin_time_stamp = getStamp(begin_time)\n                let end_time_stamp = getStamp(end_time)\n                let time_stamp = getStamp();\n                if (begin_time_stamp <= time_stamp && time_stamp < end_time_stamp) {\n                    return '';\n                }\n                if (time_stamp >= end_time_stamp) {\n                    return 'end';\n                }\n                if (time_stamp < begin_time_stamp) {\n                    return 'no-start';\n                }\n            }\n            return '';\n        },\n    },\n\n    data() {\n        return {\n            showClose: false,\n            is_open: false,\n            timeIntegral: null,\n            goods_id: '',\n            bargain: null,\n            finish_list: null,\n            begin_list: null,\n            end_list: null,\n\n            shareShow: false,\n            title: '砍价',\n            page: 1,\n\n            circuit: [{\n                name: '点击砍价',\n                url: './../image/bargain-click.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '找人砍价',\n                url: './../image/bargain-help.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '价格合适',\n                url: './../image/bargain-price.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '优惠购买',\n                url: './../image/bargain-buy.png'\n            }],\n            goods: {},\n            poster: this.$api.bargain.poster,\n            isUnderlinePirce: 0,\n            poster_config: this.$api.bargain.poster_config,\n            poster_generate: this.$api.bargain.poster_generate,\n        }\n        },\n    onLoad(options) { this.$commonLoad.onload(options);\n\n        wx.showShareMenu({\n            menus: ['shareAppMessage', 'shareTimeline']\n        })\n\n        const self = this;\n        this.$store.dispatch('user/info');\n        this.goods_id = options.goods_id;\n\n        this.$showLoading();\n        this.$request({\n            url: this.$api.bargain.goods_detail,\n            data: {\n                goods_id: this.goods_id,\n            }\n        }).then(info => {\n            self.$hideLoading();\n            if (info.code === 0) {\n                self.bargain = info.data.bargain;\n                self.goods = self.bargain.goods\n\n\n\n                //定时器\n                let func = function () {\n                    self.begin_list = self.setTimeStart(self.bargain.begin_time);\n                    self.end_list = self.setTimeStart(self.bargain.end_time);\n                    if (self.bargain.bargain_info) {\n                        self.finish_list = self.setTimeStart(self.bargain.bargain_info.finish_at);\n                    }\n                };\n                func();\n                self.timeIntegral = setInterval(() => {\n                    func();\n                }, 1000);\n            } else {\n                uni.showToast({icon: 'none', title: info.msg});\n                uni.navigateBack();\n            }\n        }).catch(() => {\n            self.$hideLoading();\n        });\n    },\n\n    onShow() {\n        this.showClose = false;\n        setTimeout(()=>{\n            this.showClose = true;\n        })\n    },\n    onUnload() {\n        clearInterval(this.timeIntegral);\n    },\n\n    onShareAppMessage() {\n        return this.shareMessage();\n    },\n\n\n    onShareTimeline() {\n        return this.$shareTimeline({\n            title: this.bargain.goods.app_share_title ? this.bargain.goods.app_share_title : this.bargain.name,\n            query: {\n                goods_id: this.bargain.goods_id\n            }\n        });\n    },\n\n    methods: {\n        shareMessage(s = false){\n            return this.$shareAppMessage({\n                title: this.bargain.goods.app_share_title ? this.bargain.goods.app_share_title : this.bargain.name,\n                path: '/plugins/bargain/goods/goods',\n                imageUrl: this.bargain.goods.app_share_pic ? this.bargain.goods.app_share_pic : this.bargain.cover_pic,\n                desc: this.bargain.subtitle,\n                params: {\n                    goods_id: this.bargain.goods_id\n                }\n            }, s);\n        },\n        getMall(e) {\n            this.is_open = e.is_open == 1 ? true : false;\n        },\n        bargainFriend() {\n            uni.navigateTo({url: '/plugins/bargain/activity/activity?id=' + this.bargain.bargain_info.bargain_order_id});\n        },\n        setTimeStart: function (e) {\n            let time = e.replace(/-/g, '/');\n            let diff_time = parseInt((new Date(time).getTime() - new Date().getTime()) / 1000)\n            let day = 0, hour = 0, minute = 0, second = 0;\n\n            if (diff_time > 0) {\n                day = Math.floor(diff_time / (60 * 60 * 24));\n                hour = Math.floor(diff_time / (60 * 60)) - (day * 24);\n                minute = Math.floor(diff_time / 60) - (day * 24 * 60) - (hour * 60);\n                second = Math.floor(diff_time) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\n            } else {\n                return null;\n            }\n            return {\n                d: day.toString(),\n                h: hour < 10 ? ('0' + hour) : hour.toString(),\n                m: minute < 10 ? ('0' + minute) : minute.toString(),\n                s: second < 10 ? ('0' + second) : second.toString(),\n            };\n        },\n\n        subscribe: function () {\n            const self = this;\n\t\t\tif (typeof this.bargain.limit_buy !== 'undefined' && this.bargain.limit_buy.status == 1 && this.bargain.limit_buy.rest_number < 1) {\n\t\t\t\tthis.$tips.showToast({\n\t\t\t\t\ttitle: this.bargain.limit_buy.text,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n            this.$subscribe(this.bargain.template_message).then(res => {\n                self.save();\n            }).catch(() => {\n                self.save();\n            });\n        },\n\n        save: function () {\n            const self = this;\n            self.$showLoading();\n            self.$request({\n                url: self.$api.bargain.bargain_submit,\n                data: {\n                    goods_id: self.bargain.goods_id\n                },\n            }).then(info => {\n                self.$hideLoading();\n                if (info.code == 0) {\n                    self.bargainResult(info);\n                } else {\n                    uni.showToast({icon: 'none', title: info.msg});\n                }\n            }).catch(e => {\n                self.$hideLoading();\n            });\n        },\n\n        bargainResult(data) {\n            const self = this;\n            self.$showLoading();\n            self.$request({\n                url: self.$api.bargain.bargain_result,\n                data: {\n                    queueId: data.data.queueId,\n                    token: data.data.token,\n                },\n            }).then(info => {\n                if (info.code === 0) {\n                    if (info.data.retry) {\n                        setTimeout(() => {\n                            self.bargainResult(data);\n                        }, 1000);\n                        return;\n                    }\n                    self.$hideLoading();\n                    uni.redirectTo({\n                        url: '/plugins/bargain/activity/activity?order_id=' + info.data.bargain_order_id,\n                    })\n                } else {\n                    self.$hideLoading();\n                    uni.showToast({icon: 'none', title: info.msg});\n                }\n            }).catch(e => {\n                self.$hideLoading();\n            });\n        },\n\n        submit: function () {\n            const bargain = this.bargain;\n            const mchList = [{\n                \"mch_id\": 0,\n                \"bargain_order_id\": bargain.bargain_info.bargain_order_id,\n                \"goods_list\": [{\n                    \"id\": bargain.goods_id,\n                    \"attr\": [],\n                    \"num\": 1,\n                    \"cart_id\": 0,\n                    \"goods_attr_id\": bargain.goods_attr_id\n                }]\n            }];\n            uni.navigateTo({\n                url: '/pages/order-submit/order-submit?mch_list=' +\n                    JSON.stringify(mchList) +\n                    '&preview_url=' + encodeURIComponent(this.$api.bargain.order_preview) +\n                    '&submit_url=' + encodeURIComponent(this.$api.bargain.order_submit)\n            });\n        },\n\n        shareClick() {\n            this.shareShow = true;\n        },\n\n        setCoupon(index) {\n            this.$set(this.bargain.goods_coupon_center[index], 'is_receive', 1);\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=ccb09fb0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=ccb09fb0&scoped=true&lang=scss&\""],"sourceRoot":""}
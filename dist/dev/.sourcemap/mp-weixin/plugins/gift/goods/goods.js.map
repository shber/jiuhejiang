{"version":3,"sources":["webpack:///./src/plugins/gift/goods/goods.vue?b4f2","webpack:///./src/plugins/gift/goods/goods.vue?ce01","webpack:///./src/plugins/gift/goods/goods.vue?dc43","webpack:///./src/plugins/gift/goods/goods.vue?98ff","webpack:///./src/plugins/gift/goods/goods.vue","webpack:///./src/plugins/gift/goods/goods.vue?eb64","webpack:///external \"../siteinfo.js\""],"names":["__webpack_require__","r","__webpack_exports__","_goods_vue_vue_type_template_id_01bdc034_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_01bdc034_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_vuex","_requestList","_requestConfig","_request","name","data","showClose","is_open","goods_id","goods","full_reduce","goods_list","attr_bool","select_data","select_str","number","getTheme","ask_gift","webUrl","mch_id","loading","join_disabled","is_share","is_search","selectAttr","attrShow","flash_sale","is_vip","is_vip_card_user","discount","onLoad","_this","$commonLoad","onload","id","$store","dispatch","$api","gift","config","request","then","requestList","requestConfig","wx","showShareMenu","menus","onShow","_this2","setTimeout","onShareTimeline","$shareTimeline","title","query","onShareAppMessage","hShareAppMessage","methods","s","arguments","length","undefined","$shareAppMessage","path","imageUrl","app_share_pic","pic_url","desc","subtitle","params","getMall","e","clickAttr","onAttr","_ref","item","attr_str","i","attr_list","concat","attr_group_name","attr_name","price","attr","stock","cover_pic","_asyncToGenerator","_regenerator","default","mark","_callee","res","j","wrap","_context","prev","next","$utils","showLoading","$request","url","method","sent","hideLoading","code","plugin_extra","goods_activity","vip_card_appoint","attr_groups","active","t0","Error","stop","_x","apply","_callee2","_context2","theme_color","commit","Number","theme","uni","showModal","content","msg","_callee3","_context3","new_recommend","type","list","attrSwitch","pay","num","$storage","getStorageSync","again","storage","push","setStorageSync","navigateTo","navigateBack","delta","setCoupon","index","$set","goods_coupon_center","computed","_objectSpread","mapState","state","theme_id","mall","components","app-goods-banner","app-related-suggestion-product","bottom-button","appGoodsFullReduce","uAttr","bdInfo","bdCoupon","bdXbc","bdKb","bdHc","bdDetail","bdComments","appClose","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","module","exports","require"],"mappings":"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","file":"plugins/gift/goods/goods.js","sourcesContent":["import { render, staticRenderFns } from \"./goods.vue?vue&type=template&id=01bdc034&filter-modules=%7B%7D&\"\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('01bdc034')) {\n      api.createRecord('01bdc034', component.options)\n    } else {\n      api.reload('01bdc034', component.options)\n    }\n    module.hot.accept(\"./goods.vue?vue&type=template&id=01bdc034&filter-modules=%7B%7D&\", function () {\n      api.rerender('01bdc034', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/plugins/gift/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=01bdc034&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState,mapGetters} from 'vuex';\nimport appGoodsBanner from '../../../components/page-component/goods/app-goods-banner.vue';\nimport appRelatedSuggestionProduct\n    from '../../../components/page-component/app-related-suggestion-product/app-related-suggestion-product.vue';\nimport bottomButton from '../components/goods/bottom-button.vue';\nimport appGoodsFullReduce from '../../../components/page-component/goods/app-goods-full-reduce.vue';\nimport uAttr from '../../../components/page-component/goods/u-attr.vue';\nimport bdInfo from '@/components/page-component/goods/bd-info';\nimport bdCoupon from '@/components/page-component/goods/bd-coupon.vue';\nimport bdXbc from '@/components/page-component/goods/bd-xbc.vue';\nimport bdKb from '@/components/page-component/goods/bd-kb.vue';\nimport bdHc from '@/components/page-component/goods/bd-hc.vue';\nimport bdDetail from '@/components/page-component/goods/bd-detail.vue';\nimport bdComments from '@/components/page-component/goods/bd-comments.vue';\nimport appClose from '@/components/basic-component/app-close/app-close.vue';\n\n\nexport default {\n    name: 'goods',\n    data() {\n        return {\n            showClose: false,\n            is_open: 0,\n            // 商品ID\n            goods_id: -1,\n            // 商品\n            goods: null,\n            full_reduce: null,\n            // 相关推荐\n            goods_list: [],\n            attr_bool: false,\n            // 选中规格\n            select_data: {},\n            // 选中规格字符串\n            select_str: '',\n            number: 1,\n            getTheme: false,\n            ask_gift: '',\n            webUrl: '',\n            mch_id: -1,\n            loading: false,\n            join_disabled: true,\n            is_share: 0,\n            is_search: 0,\n            selectAttr: {},\n            attrShow: false,\n            flash_sale: null,\n            is_vip: false,\n            is_vip_card_user: null,\n            discount: null\n        }\n    },\n    onLoad(options) { this.$commonLoad.onload(options);\n        this.webUrl = '/plugins/gift/goods/goods?id=' + options.id;\n        this.goods_id = options.id;\n        if (options.mch_id) {\n            this.mch_id = options.mch_id;\n        }\n        if (options.is_share == 1) {\n            this.is_share = 1;\n        }\n        if (options.is_search == 1) {\n            this.is_search = 1;\n        }\n        this.$store.dispatch('gift/getConfig', this.$api.gift.config);\n        this.request(options.id).then(() => {\n            this.requestList();\n            this.requestConfig();\n\n\n\n        });\n\n        wx.showShareMenu({\n            menus: ['shareAppMessage', 'shareTimeline']\n        })\n\n    },\n    onShow() {\n        this.showClose = false;\n        setTimeout(() => {\n            this.showClose = true;\n        })\n    },\n\n    onShareTimeline() {\n        // 分享朋友圈beta\n        return this.$shareTimeline({\n            title: this.ask_gift,\n            query: {\n                id: this.goods_id,\n                is_share: 1,\n            } // 此处填写页面的参数\n        });\n    },\n\n\n\n    onShareAppMessage() {\n        return this.hShareAppMessage();\n    },\n\n    methods: {\n        hShareAppMessage(s = false) {\n            return this.$shareAppMessage({\n                path: '/plugins/gift/goods/goods',\n                title: this.ask_gift,\n                imageUrl: this.goods.app_share_pic ? this.goods.app_share_pic : this.goods.pic_url[0].pic_url,\n\n\n\n                desc: this.goods.subtitle,\n                params: {\n                    id: this.goods_id,\n                    is_share: 1,\n                }\n            }, s);\n        },\n        getMall(e) {\n            this.is_open = e.is_open;\n        },\n        clickAttr() {\n            this.attrShow = true;\n        },\n        onAttr({item}) {\n            // if (!item && !item.attr_list) return;\n            this.selectAttr = item;\n            let attr_str = ``;\n            for (let i = 0; i < item.attr_list.length; i++) {\n                attr_str += `${item.attr_list[i].attr_group_name}: ${item.attr_list[i].attr_name} `;\n            }\n            this.select_data = {\n                name: this.goods.name,\n                price: item.price,\n                attr: {\n                    id: item.id,\n                    attr_list: item.attr_list,\n                    stock: item.stock,\n                    goods_id: item.goods_id,\n                },\n                attr_str: attr_str,\n                pic_url: item.pic_url ? item.pic_url : this.goods.cover_pic,\n            }\n        },\n        // 请求商品\n        async request(id) {\n            this.$utils.showLoading();\n            try {\n                const res = await this.$request({\n                    url: this.$api.gift.goods,\n                    method: 'get',\n                    data: {\n                        id\n                    }\n                });\n                this.$utils.hideLoading();\n                if (res.code === 0) {\n                    this.goods = res.data.goods;\n                    this.flash_sale = res.data.goods.plugin_extra.flash_sale;\n                    if (this.goods.goods_activity) {\n                        this.full_reduce = this.goods.goods_activity.full_reduce;\n                    }\n                    if (this.goods.vip_card_appoint.discount) {\n                        this.is_vip = true;\n                        this.discount = this.goods.vip_card_appoint.discount\n                    }\n                    this.is_vip_card_user = this.goods.vip_card_appoint.is_vip_card_user\n                    this.loading = true;\n                    for (let i = 0; i < this.goods.attr_groups.length; i++) {\n                        for (let j = 0; j < this.goods.attr_groups[i].attr_list.length; j++) {\n                            if (j === 0) {\n                                this.goods.attr_groups[i].attr_list[j].active = true;\n                            } else {\n                                this.goods.attr_groups[i].attr_list[j].active = false;\n                            }\n                        }\n                    }\n                }\n        } catch (e) {\n            this.$utils.hideLoading();\n            throw new Error(e);\n        }\n    },\n        // 请求配置\n        async requestConfig() {\n            this.$utils.showLoading();\n\n            try {\n                const res = await this.$request({\n                    url: this.$api.gift.config,\n                    method: 'get',\n                });\n                this.$utils.hideLoading();\n                if (res.code === 0) {\n                    this.ask_gift = res.data.ask_gift;\n                    this.getTheme = res.data.theme_color;\n                    this.$store.commit('gift/setTheme', Number(res.data.theme.id));\n                } else {\n                    uni.showModal({\n                        title: '提示',\n                        content: res.msg,\n                    });\n                }\n            } catch (e) {\n                this.$utils.hideLoading();\n                throw new Error(e);\n            }\n        },\n        // 请求相关推荐\n        async requestList() {\n            this.$utils.showLoading();\n            try {\n                const res = await this.$request({\n                    url: this.$api.goods.new_recommend,\n                    method: 'get',\n                    data: {\n                        goods_id: this.goods_id,\n                        type: 'goods',\n                    }\n                });\n                this.$utils.hideLoading();\n                if (res.code === 0) {\n                    this.goods_list = res.data.list;\n                } else {\n                    uni.showModal({\n                        title: '提示',\n                        content: res.msg,\n                    });\n                }\n            } catch (e) {\n                this.$utils.hideLoading();\n                throw new Error(e);\n            }\n        },\n        // 规格开关\n        attrSwitch(data) {\n            this.attr_bool = data;\n        },\n        pay(data) {\n            this.number = data.goods_list[0].num;\n            if (this.$storage.getStorageSync('GIFT_CART')) {\n                let again = 0;\n                let storage = this.$storage.getStorageSync('GIFT_CART');\n                for (let i = 0; i < storage.length; i++) {\n                    if (storage[i].attr.id === this.select_data.attr.id) {\n                        storage[i].number += this.number;\n                    } else {\n                        again += 1;\n                    }\n                }\n                if (again === storage.length) {\n                    let data = this.select_data;\n                    data.number = this.number;\n                    storage.push(data);\n                }\n                this.$storage.setStorageSync('GIFT_CART', storage);\n            } else {\n                let data = this.select_data;\n                data.number = this.number;\n                this.$storage.setStorageSync('GIFT_CART', [data]);\n            }\n            if (this.is_share === 1) {\n                uni.navigateTo({\n                    url: `/plugins/gift/index/index`\n                })\n            } else if (this.is_search === 1) {\n                uni.navigateBack({\n                    delta: 3\n                });\n            } else {\n                uni.navigateBack({\n                    delta: 2\n                });\n            }\n        },\n        setCoupon(index) {\n            this.$set(this.goods.goods_coupon_center[index], 'is_receive', 1);\n        }\n    },\n    computed: {\n        ...mapState('gift', {\n            theme: state => state.theme,\n\t\t\ttheme_id: state => state.theme_id\n        }),\n        ...mapState('mallConfig', {\n            mall: state => state.mall\n        }),\n    },\n    components: {\n        'app-goods-banner': appGoodsBanner,\n        'app-related-suggestion-product': appRelatedSuggestionProduct,\n        'bottom-button': bottomButton,\n        appGoodsFullReduce,\n        uAttr,\n        bdInfo,\n        bdCoupon,\n        bdXbc,\n        bdKb,\n        bdHc,\n        bdDetail,\n        bdComments,\n        appClose\n    },\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"","module.exports = require(\"../siteinfo.js\");"],"sourceRoot":""}
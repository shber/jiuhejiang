{"version":3,"sources":["webpack:///./src/plugins/gift/search/search.vue?1811","webpack:///./src/plugins/gift/search/search.vue?5bd7","webpack:///./src/plugins/gift/search/search.vue?dec4","webpack:///./src/plugins/gift/search/search.vue?cb4a","webpack:///./src/plugins/gift/search/search.vue","webpack:///./src/plugins/gift/search/search.vue?bcd3"],"names":["__webpack_require__","r","__webpack_exports__","_search_vue_vue_type_template_id_538f4738_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_search_vue_vue_type_template_id_538f4738_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_vuex","_request","strong","name","data","keyword","page","goods_list","search","is_search","loading","goSearch","onLoad","$commonLoad","onload","$storage","getStorageSync","setStorageSync","methods","request","_regenerator","default","mark","_callee","res","_this$goods_list","wrap","_context","prev","next","$request","url","$api","gift","list","method","sign","sent","code","push","apply","_toConsumableArray","stop","arguments","searchRequest","dataProcessing","i","length","page_count","pagination","setRequest","_this","match","then","newStrong","routeGo","video_url","getVideo","uni","navigateTo","concat","id","page_url","split","empyt_search","setClearStorage","removeStorageSync","components","app-product-list","appNoGoods","computed","_objectSpread","mapState","theme","state","mapGetters","platform","gConfig","systemInfo","onReachBottom","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_search_vue_vue_type_style_index_0_id_538f4738_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_search_vue_vue_type_style_index_0_id_538f4738_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"plugins/gift/search/search.js","sourcesContent":["import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=538f4738&scoped=true&filter-modules=%7B%7D&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=538f4738&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"538f4738\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('538f4738')) {\n      api.createRecord('538f4738', component.options)\n    } else {\n      api.reload('538f4738', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=538f4738&scoped=true&filter-modules=%7B%7D&\", function () {\n      api.rerender('538f4738', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/plugins/gift/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=538f4738&scoped=true&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    let strong = \"GIFT_SEARCH\";\n    import appProductList from '../../../components/page-component/app-product-list/app-product-list.vue';\n\timport appNoGoods from '../../../components/page-component/app-no-goods/app-no-goods.vue';\n\timport { mapState, mapGetters } from 'vuex';\n    \n    export default {\n        name: \"search\",\n\t    data() {\n            return {\n                keyword: '',\n                strong: [],\n                page: 1,\n                goods_list: [],\n                search: false,\n                is_search: 0,\n\t\t\t\tloading: true,\n                goSearch: false\n            }\n\t    },\n\t    \n\t    onLoad() { this.$commonLoad.onload();\n            if (!this.$storage.getStorageSync(strong)) {\n                this.$storage.setStorageSync(strong, []);\n            } else {\n                this.strong = this.$storage.getStorageSync(strong);\n            }\n\t    },\n\t    \n\t    methods: {\n            async request() {\n\t\t\t\tthis.loading = true;\n\t\t\t\tconst res = await this.$request({\n\t                url: this.$api.gift.list,\n\t                method: 'get',\n\t                data: {\n                        page: this.page,\n                        keyword: this.keyword,\n\t\t                sign: ''\n\t                },\n                });\n                this.loading = false;\n                if (res.code === 0) {\n\n                    this.goods_list.push(...res.data.list);\n                    // this.dataProcessing(res.data);\n                }\n            },\n\n            searchRequest(data) {\n                this.search = true;\n                this.goods_list = [];\n                this.page = 1;\n                this.keyword = data;\n                this.request();\n            },\n\n            // 处理数据\n            dataProcessing(res) {\n                for (let i = 0; i < res.list.length; i+=2) {\n                    if (i+1 !== res.list.length) {\n                        this.goods_list.push([res.list[i], res.list[i+1]]);\n                    } else {\n                        this.goods_list.push([res.list[i]]);\n                    }\n                }\n                this.page_count = res.pagination.page_count;\n            },\n\n            setRequest() {\n                if (this.keyword.match(/^[ ]*$/)) return;\n                if (this.goSearch) return;\n                this.goSearch = true;\n                this.search = true;\n                this.goods_list = [];\n                this.request().then(() => {\n                    let newStrong = this.$storage.getStorageSync(strong);\n                    for (let i = 0; i < newStrong.length; i++) {\n                    \tif (newStrong[i] === this.keyword) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnewStrong.push(this.keyword);\n                    this.$storage.setStorageSync(strong, newStrong);\n                    this.goSearch = false;\n                });\n            },\n\n            routeGo(data) {\n\n\t\t\t\tif (data.video_url && this.getVideo == 1) {\n\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/goods/video?goods_id=${data.id}&sign=gift`\n\t\t\t\t\t});\n\n\n\n\n\n\n\t\t\t\t} else {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/plugins/gift/goods/goods?${data.page_url.split('?')[1]}&is_search=1`,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\n\n\n\n\n\n            },\n\n            empyt_search() {\n                this.goods_list = [];\n                this.keyword = '';\n                this.search = false;\n            },\n\n            setClearStorage() {\n                this.$storage.removeStorageSync(strong);\n                this.strong = [];\n\t\t\t\tthis.$storage.setStorageSync(strong, []);\n            }\n\t    },\n\t    \n\t    components: {\n            'app-product-list': appProductList,\n\t\t\tappNoGoods\n\t    },\n\n        computed: {\n            ...mapState('gift',{\n                theme: state => state.theme,\n            }),\n\t\t\t...mapGetters('mallConfig', {\n\t\t\t\tgetVideo: 'getVideo'\n\t\t\t}),\n            ...mapState({\n                platform: function(state) {\n                    return state.gConfig.systemInfo.platform;\n                }\n            }),\n        },\n\n        // 分页请求\n        onReachBottom() {\n            if (this.page < this.page_count) {\n                this.page++;\n                this.request();\n            }\n        },\n    }\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=538f4738&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=538f4738&scoped=true&lang=scss&\""],"sourceRoot":""}
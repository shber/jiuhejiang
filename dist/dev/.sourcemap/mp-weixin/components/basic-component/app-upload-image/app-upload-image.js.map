{"version":3,"sources":["webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue?f11f","webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue?6ef6","webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue?0d46","webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue?f6ac","webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue","webpack:///./src/components/basic-component/app-upload-image/app-upload-image.vue?c749"],"names":["__webpack_require__","r","__webpack_exports__","_app_upload_image_vue_vue_type_template_id_7fa71cfe_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_app_upload_image_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_upload_image_vue_vue_type_template_id_7fa71cfe_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_upload_image_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_upload_image_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","name","props","value","default","defaultImg","type","String","maxNum","Number","sign","backgroundColor","margin","diy","Boolean","showNumber","text","count","data","imageList","isAddImg","methods","checkMaxNum","status","length","remove","index","splice","$emit","chooseImage","self","uni","success","e","i","tempFilePaths","uploadFile","url","$api","upload","file","filePath","fileType","formData","file_name","res","result","JSON","parse","code","push","showModal","title","content","msg","showCancel","fail","errMsg","complete","previewImage","current","urls","createObjectURL","blob","window","URL","webkitURL","created","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_upload_image_vue_vue_type_style_index_0_id_7fa71cfe_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_upload_image_vue_vue_type_style_index_0_id_7fa71cfe_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"components/basic-component/app-upload-image/app-upload-image.js","sourcesContent":["import { render, staticRenderFns } from \"./app-upload-image.vue?vue&type=template&id=7fa71cfe&scoped=true&filter-modules=%7B%7D&\"\nimport script from \"./app-upload-image.vue?vue&type=script&lang=js&\"\nexport * from \"./app-upload-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-upload-image.vue?vue&type=style&index=0&id=7fa71cfe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fa71cfe\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7fa71cfe')) {\n      api.createRecord('7fa71cfe', component.options)\n    } else {\n      api.reload('7fa71cfe', component.options)\n    }\n    module.hot.accept(\"./app-upload-image.vue?vue&type=template&id=7fa71cfe&scoped=true&filter-modules=%7B%7D&\", function () {\n      api.rerender('7fa71cfe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/basic-component/app-upload-image/app-upload-image.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-upload-image.vue?vue&type=template&id=7fa71cfe&scoped=true&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-upload-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-upload-image.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uploadFile from '@/core/upload.js';\n\nexport default {\n    name: 'app-upload-image',\n    props: {\n        value: {\n            default: null,\n        },\n        defaultImg: {\n            // 添加图片的默认背景图片\n            type: String,\n            default: 'https://yewi.vvv6g.cn/web/mini_images/icon/icon-image.png'\n        },\n        maxNum: {\n            // 可添加最大图片数量\n            type: [Number, String],\n            default: 3\n        },\n        // 标记\n        // 当组件用于循环时使用\n        sign: {\n            type: String,\n            default: ''\n        },\n        backgroundColor: {\n            type: String,\n            default: '#f7f7f7',\n        },\n        margin: {\n            type: String,\n            default: '10'\n        },\n        diy: {\n            type: Boolean,\n            default: false\n        },\n        showNumber: {\n            type: Boolean,\n            default: true,\n        },\n        text: {\n            type: String,\n            default: '上传图片',\n        },\n        count: {\n            type: Number,\n            default: 9\n        }\n    },\n    data() {\n        return {\n            imageList: this.value ? this.value : [],\n            isAddImg: true\n        }\n    },\n    methods: {\n        // 上传最大图片数量\n        checkMaxNum() {\n            let status = this.imageList.length >= this.maxNum ? false : true;\n            this.isAddImg = status;\n        },\n        // 移除图片\n        remove(index) {\n            let imageList = this.imageList;\n            let data = imageList.splice(index, 1);\n            this.imageList = imageList;\n            this.checkMaxNum();\n\n            // 触发事件 tabEvent\n            this.$emit('imageEvent', {\n                imageList: imageList,\n                sign: this.sign\n            })\n        },\n        // 选择图片\n        chooseImage() {\n            let self = this;\n            let imageList = self.imageList;\n\n            uni.chooseImage({\n                count: self.maxNum,\n                success: function(e) {\n                    for (let i in e.tempFilePaths) {\n                        if (i >= (self.maxNum - imageList.length)) {\n                            break;\n                        }\n                        let fileName = '';\n\n\n\n                        uni.uploadFile({\n                            url: self.$api.upload.file,\n                            filePath: e.tempFilePaths[i],\n                            name: 'file',\n                            fileType: 'image',\n                            formData: {\n                                file: e.tempFilePaths[i],\n                                file_name: fileName,\n                            },\n                            success(res) {\n                                const data = res.data;\n                                let result = null;\n                                if (typeof data === 'string') {\n                                    result = JSON.parse(data);\n                                } else {\n                                    result = data;\n                                }\n                                if (result.code == 0) {\n                                    imageList.push(result.data.url)\n                                    self.imageList = imageList;\n                                    self.checkMaxNum();\n                                    self.$emit('imageEvent', {\n                                        imageList: imageList,\n                                        sign: self.sign\n                                    });\n                                } else {\n                                    uni.showModal({\n                                        title: '',\n                                        content: result.msg,\n                                        showCancel: false,\n                                    });\n                                }\n                            },\n                            fail(e) {\n                                if (e && e.errMsg) {\n                                    uni.showModal({\n                                        title: '错误',\n                                        content: e.errMsg,\n                                        showCancel: false,\n                                    });\n                                }\n                            },\n                        });\n                    }\n                },\n                complete: function(e) {\n                    // 触发事件 tabEvent\n                    self.$emit('imageEvent', {\n                        imageList: imageList,\n                        sign: self.sign\n                    })\n                }\n            })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        },\n        // 图片预览\n        previewImage(index) {\n            let imageList = this.imageList;\n            uni.previewImage({\n                current: imageList[index],\n                urls: imageList\n            })\n        },\n        createObjectURL(blob) {\n            return (window.URL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        }\n    },\n    created() {\n        this.checkMaxNum();\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-upload-image.vue?vue&type=style&index=0&id=7fa71cfe&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-upload-image.vue?vue&type=style&index=0&id=7fa71cfe&lang=scss&scoped=true&\""],"sourceRoot":""}
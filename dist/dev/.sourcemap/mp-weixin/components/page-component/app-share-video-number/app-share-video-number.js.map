{"version":3,"sources":["webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue?be99","webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue?64c7","webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue?eb0e","webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue?392b","webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue","webpack:///./src/components/page-component/app-share-video-number/app-share-video-number.vue?674e"],"names":["__webpack_require__","r","__webpack_exports__","_app_share_video_number_vue_vue_type_template_id_fd4a35e2_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","_app_share_video_number_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_15_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_share_video_number_vue_vue_type_template_id_fd4a35e2_scoped_true_filter_modules_7B_7D___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_share_video_number_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_share_video_number_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_vuex","name","props","title","type","String","default","isShow","Boolean","goodsId","data","article_url","number","isLoading","interval","computed","_objectSpread","mapState","sph","state","mallConfig","__wxapp_img","watch","newVal","oldVal","addMaterial","methods","_this","uni","showLoading","$request","url","$api","goods","goods_id","then","response","hideLoading","code","getArticleUrl","media_id","showModal","msg","catch","mediaId","_this2","setInterval","articleUrl","clearInterval","_this3","content","showCancel","success","close","copyText","$utils","uniCopy","showToast","$emit","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_share_video_number_vue_vue_type_style_index_0_id_fd4a35e2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_node_modules_css_loader_index_js_ref_8_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_app_share_video_number_vue_vue_type_style_index_0_id_fd4a35e2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"components/page-component/app-share-video-number/app-share-video-number.js","sourcesContent":["import { render, staticRenderFns } from \"./app-share-video-number.vue?vue&type=template&id=fd4a35e2&scoped=true&filter-modules=%7B%7D&\"\nimport script from \"./app-share-video-number.vue?vue&type=script&lang=js&\"\nexport * from \"./app-share-video-number.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-share-video-number.vue?vue&type=style&index=0&id=fd4a35e2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd4a35e2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/liushibo/project/outsourceProject/jiuhejiang/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('fd4a35e2')) {\n      api.createRecord('fd4a35e2', component.options)\n    } else {\n      api.reload('fd4a35e2', component.options)\n    }\n    module.hot.accept(\"./app-share-video-number.vue?vue&type=template&id=fd4a35e2&scoped=true&filter-modules=%7B%7D&\", function () {\n      api.rerender('fd4a35e2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/page-component/app-share-video-number/app-share-video-number.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=template&id=fd4a35e2&scoped=true&filter-modules=%7B%7D&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapGetters, mapState} from 'vuex';\n\nexport default {\n    name: 'app-share-video-number',\n    props: {\n        title: {\n            type: String,\n            default() {\n                return '生成商品海报';\n            }\n        },\n        isShow: {\n            type: Boolean,\n            default() {\n                return false\n            }\n        },\n        goodsId: null\n    },\n    data() {\n        return {\n            article_url: '',\n            number: 0,\n            isLoading: false,\n            interval: null,\n        }\n    },\n    computed: {\n        ...mapState({\n            sph: state => state.mallConfig.__wxapp_img.sph,\n        }),\n    },\n    watch: {\n        isShow(newVal, oldVal) {\n            if (newVal) {\n                this.addMaterial()\n            }\n        }\n    },\n    methods: {\n        addMaterial() {\n            uni.showLoading({title: '加载中'});\n            this.$request({\n                url: this.$api.goods.addMaterial,\n                data: {\n                    goods_id:this.goodsId\n                }\n            }).then(response => {\n                uni.hideLoading();\n                if (response.code === 0) {\n                    this.getArticleUrl(response.data.media_id);\n                } else {\n                    this.showModal(response.msg, this.interval);\n                }\n            }).catch(() => {\n\n            });\n        },\n        getArticleUrl(mediaId) {\n            this.article_url = '';\n            this.isLoading = true;\n            let interval = setInterval(()=> {\n                this.number++;\n\n                if (this.number > 15) {\n                    this.showModal('获取视频号链接异常,请稍后重试', interval);\n                }\n\n                this.$request({\n                    url: this.$api.goods.articleUrl,\n                    data: {\n                        media_id: mediaId\n                    }\n                }).then(response => {\n                    uni.hideLoading();\n                    if (response.code === 0) {\n                        this.article_url = response.data.url;\n                        if (this.article_url) {\n                            clearInterval(interval);\n                        }\n                    } else {\n                        this.showModal(response.msg, interval);\n                    }\n                });\n            }, 1000)\n            this.interval = interval;\n        },\n        showModal(msg, interval) {\n            this.isLoading = false;\n            this.number = 0;\n            uni.showModal({\n                content: msg,\n                showCancel: false,\n                success: (() => {\n                    this.close();\n                })\n\n            });\n            clearInterval(interval);\n        },\n        copyText() {\n            this.$utils.uniCopy({\n                data: this.article_url,\n                success(){\n                    uni.showToast({ title: '复制成功'});\n                    this.close()\n                }\n            });\n        },\n        close() {\n            this.isLoading = false;\n            clearInterval(this.interval);\n            this.$emit('close', false);\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=style&index=0&id=fd4a35e2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=style&index=0&id=fd4a35e2&scoped=true&lang=scss&\""],"sourceRoot":""}
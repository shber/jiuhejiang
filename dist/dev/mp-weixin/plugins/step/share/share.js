(global.webpackJsonp=global.webpackJsonp||[]).push([["plugins/step/share/share"],{2129:
/*!******************************************!*\
  !*** ./src/plugins/step/share/share.vue ***!
  \******************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./share.vue?vue&type=template&id=3da7b2d4&scoped=true&filter-modules=%7B%7D& */2130),o=i(/*! ./share.vue?vue&type=script&lang=js& */2132);for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i(/*! ./share.vue?vue&type=style&index=0&id=3da7b2d4&scoped=true&lang=scss& */2134);var r=i(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(r.default)(o.default,n.render,n.staticRenderFns,!1,null,"3da7b2d4",null);a.options.__file="src/plugins/step/share/share.vue",e.default=a.exports},2130:
/*!***********************************************************************************************************!*\
  !*** ./src/plugins/step/share/share.vue?vue&type=template&id=3da7b2d4&scoped=true&filter-modules=%7B%7D& ***!
  \***********************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=template&id=3da7b2d4&scoped=true&filter-modules=%7B%7D& */2131);i.d(e,"render",function(){return n.render}),i.d(e,"staticRenderFns",function(){return n.staticRenderFns})},2131:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/step/share/share.vue?vue&type=template&id=3da7b2d4&scoped=true&filter-modules=%7B%7D& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return n}),i.d(e,"staticRenderFns",function(){return o});var n=function(){var t=this.$createElement;this._self._c},o=[];n._withStripped=!0},2132:
/*!*******************************************************************!*\
  !*** ./src/plugins/step/share/share.vue?vue&type=script&lang=js& ***!
  \*******************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=script&lang=js& */2133),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e.default=o.a},2133:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/step/share/share.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{todayStep:0,pic_list:[],poster:"",pic:[],page:0,currentItem:"",left:!1,right:!0}},methods:{screen:function(){var e=this.poster;t.previewImage({urls:[e]})},chooseImg:function(t){var e=Math.floor(this.pic_list.length/4-1e-4);if(1==t){if(0==this.left)return;this.page--,this.right=!0,0==this.page&&(this.left=!1),this.pic=this.pic_list.slice(4*this.page,4*this.page+4)}else if(2==t){if(0==this.right)return;this.page++,this.left=!0,this.page==e&&(this.right=!1),this.pic=this.pic_list.slice(4*this.page,4*this.page+4)}},tagChoose:function(t){this.currentItem=t,this.getPoster()},saveImage:function(){var e=this;t.showLoading({mask:!0,text:"保存中..."}),t.authorize({scope:"scope.writePhotosAlbum",success:function(i){"authorize:ok"==i.errMsg&&t.getImageInfo({src:e.poster,success:function(e){t.hideLoading(),t.saveImageToPhotosAlbum({filePath:e.path,success:function(e){t.showToast({title:"保存成功！",icon:"success",duration:2e3})},fail:function(e){t.showToast({title:"保存失败！",icon:"none",duration:1e3})}})},fail:function(e){t.hideLoading(),t.showToast({title:"保存失败！",icon:"none",duration:1e3})}})},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"保存失败，需要授权保存到相册权限",showCancel:!1,confirmText:"打开授权",success:function(e){e.confirm&&t.openSetting({})}})}})},getPoster:function(){var e=this;t.showLoading({mask:!0,title:"生成中..."}),e.$request({url:e.$api.step.poster,data:{pic_id:e.currentItem,num:e.todayStep}}).then(function(i){t.hideLoading(),0==i.code?e.poster=i.data.pic_url:t.showToast({title:i.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading()})},getList:function(){var e=this;e.$showLoading({type:"global",text:"步数加载中..."}),e.$request({url:e.$api.step.setting}).then(function(i){e.$hideLoading(),0==i.code?(e.pic_list=i.data.qrcode_pic,e.pic=i.data.qrcode_pic,e.qrcode_title=i.data.qrcode_title,e.currentItem=i.data.qrcode_pic[0].id,i.data.qrcode_pic.length>4?e.pic=i.data.qrcode_pic.slice(0,4):(e.left=!1,e.right=!1),e.getPoster()):t.showToast({title:i.msg,icon:"none",duration:1e3})}).catch(function(t){e.$hideLoading()})}},onLoad:function(t){this.$commonLoad.onload(t);t.step>-1&&(this.todayStep=t.step),this.getList()}};e.default=i}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},2134:
/*!****************************************************************************************************!*\
  !*** ./src/plugins/step/share/share.vue?vue&type=style&index=0&id=3da7b2d4&scoped=true&lang=scss& ***!
  \****************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=style&index=0&id=3da7b2d4&scoped=true&lang=scss& */2135),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e.default=o.a},2135:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/step/share/share.vue?vue&type=style&index=0&id=3da7b2d4&scoped=true&lang=scss& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[2128,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/plugins/step/share/share.js.map
(global.webpackJsonp=global.webpackJsonp||[]).push([["plugins/wholesale/goods/goods"],{18:
/*!*********************************!*\
  !*** external "../siteinfo.js" ***!
  \*********************************/
/*! no static exports found */function(t,e){t.exports=require("../siteinfo.js")},1987:
/*!***********************************************!*\
  !*** ./src/plugins/wholesale/goods/goods.vue ***!
  \***********************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! ./goods.vue?vue&type=template&id=19c856d8&scoped=true&filter-modules=%7B%7D& */1988),r=o(/*! ./goods.vue?vue&type=script&lang=js& */1990);for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);o(/*! ./goods.vue?vue&type=style&index=0&id=19c856d8&scoped=true&lang=scss& */1992);var a=o(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */10),s=Object(a.default)(r.default,n.render,n.staticRenderFns,!1,null,"19c856d8",null);s.options.__file="src/plugins/wholesale/goods/goods.vue",e.default=s.exports},1988:
/*!****************************************************************************************************************!*\
  !*** ./src/plugins/wholesale/goods/goods.vue?vue&type=template&id=19c856d8&scoped=true&filter-modules=%7B%7D& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=19c856d8&scoped=true&filter-modules=%7B%7D& */1989);o.d(e,"render",function(){return n.render}),o.d(e,"staticRenderFns",function(){return n.staticRenderFns})},1989:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/wholesale/goods/goods.vue?vue&type=template&id=19c856d8&scoped=true&filter-modules=%7B%7D& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,o){"use strict";o.r(e),o.d(e,"render",function(){return n}),o.d(e,"staticRenderFns",function(){return r});var n=function(){var t=this.$createElement,e=(this._self._c,encodeURIComponent(this.mall.setting.web_service_url));this.$mp.data=Object.assign({},{$root:{m0:e}})},r=[];n._withStripped=!0},1990:
/*!************************************************************************!*\
  !*** ./src/plugins/wholesale/goods/goods.vue?vue&type=script&lang=js& ***!
  \************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js& */1991),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e.default=r.a},1991:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/wholesale/goods/goods.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(/*! ./node_modules/@babel/runtime/regenerator */24)),r=o(/*! vuex */12);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,o,n,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void o(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var c,u,d={name:"goods",mixins:[i(o(/*! @/core/goods-mixin.js */291)).default],data:function(){return{showClose:!1,is_open:0,goods:{id:"",name:"",cover_pic:"",price:"",section:[],wholesaleGoods:{rise_num:0}},selectAttr:{attr_list:[]},webUrl:"",previewUrl:this.$api.wholesale.order_preview,submitUrl:this.$api.wholesale.order_submit,show:0,list:[],appAttr:{},totalNumber:0,totalPrice:"0.00",poster_config:this.$api.wholesale.poster_config,poster_generate:this.$api.wholesale.poster_generate,url:this.$api.wholesale.poster,goods_id:-1,loading:!1,first:!0,is_vip:!1,is_vip_card_user:0,discount:null,full_reduce:null,flash_sale:null,wholesaleDiscount:0}},onLoad:function(t){var e=this;this.$commonLoad.onload(t);var o=this;o.goods_id=t.id,o.webUrl="/plugins/wholesale/goods/goods?id="+t.id,wx.showShareMenu({menus:["shareAppMessage","shareTimeline"]}),o.$showLoading({type:"global",text:"加载中..."}),o.request({url:o.$api.wholesale.detail,data:{id:o.goods_id}}).then(function(t){o.first=!1,o.goods=t.detail,t.detail.goods_activity&&(e.full_reduce=t.detail.goods_activity.full_reduce),o.goods.vip_card_appoint.discount>0&&(o.is_vip=!0,o.discount=o.goods.vip_card_appoint.discount),o.is_vip_card_user=o.goods.vip_card_appoint.is_vip_card_user;var n=!0,r=!1,i=void 0;try{for(var a,s=o.goods.attr[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.number="0"}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}if(1==o.goods.attr_groups.length)o.goods.attr[0].number="0";else{var l=!0,c=!1,u=void 0;try{for(var d,h=o.goods.attr_groups[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var g=d.value;for(var p in g.less_attr_group_name=g.attr_group_name.substring(0,10),g.scrollLeft=0,g.attr_list)g.attr_list[p].active=!(p>0),g.attr_list[p].number=0}}catch(t){c=!0,u=t}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}o.flash_sale=o.goods.plugin_extra.flash_sale,o.loading=!0,o.$hideLoading()})},onShow:function(){var t=this;if(this.showClose=!1,setTimeout(function(){t.showClose=!0}),this.first)return!1;var e=JSON.parse(JSON.stringify(this.goods.attr)),o=JSON.parse(JSON.stringify(this.goods.attr_groups));this.$showLoading(),this.$nextTick(function(){var n=t;n.request({url:n.$api.wholesale.detail,data:{id:n.goods_id}}).then(function(r){n.goods=r.detail,n.goods.attr=e,n.goods.attr_groups=o,t.$hideLoading()})})},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(o,!0).forEach(function(e){l(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},(0,r.mapState)({isTip:function(t){return t.mallConfig.mall.setting.is_remind_sell_time},mall:function(t){return t.mallConfig.mall}}),{},(0,r.mapGetters)("mallConfig",{getTheme:"getTheme"}),{good_negotiable:function(){var t=this.mall.setting.good_negotiable;this.contact_tel="",this.contact="",this.contact_web="";for(var e=[],o=0;o<t.length;o++)"contact_tel"===t[o]&&(this.contact_tel="contact_tel"),"contact"===t[o]&&(this.contact="contact"),"contact_web"===t[o]&&(this.contact_web="contact_web");return this.contact_tel&&e.push(this.contact_tel),this.contact&&e.push(this.contact),this.contact_web&&e.push(this.contact_web),e},contactBtnStyle:function(){var t=this.good_negotiable.length,e=this.getTheme.key;return 3!==t||"a"!==e&&"b"!==e&&"f"!==e?3===t&&"a"!==e&&"b"!==e&&"f"!==e?"background:".concat(this.getTheme.background_gradient_btn,";color:").concat(this.getTheme.color,";"):2!==t||"a"!==e&&"b"!==e&&"f"!==e||this.contact_tel?2!==t||"a"!==e&&"b"!==e&&"f"!==e||!this.contact_tel?2!==t||"a"===e||"b"===e||"f"===e||this.contact_tel?2===t&&"a"!==e&&"b"!==e&&"f"!==e&&this.contact_tel?"background:".concat(this.getTheme.background_gradient_btn,";color:").concat(this.getTheme.color):"background:".concat(this.getTheme.background_gradient_btn):"background:".concat(this.getTheme.background_s_gradient_btn,";color:").concat(this.getTheme.color):"background:".concat(this.getTheme.background_gradient_btn):"background:".concat(this.getTheme.background_s_gradient_btn):"background:".concat(this.getTheme.background_gradient_btn)},contactBtn:function(){var t=this.good_negotiable.length,e=this.getTheme.key;return 3!==t||"a"!==e&&"b"!==e&&"f"!==e?3===t&&"a"!==e&&"b"!==e&&"f"!==e?"bd-three-one bd-no-radius ":2!==t||"a"!==e&&"b"!==e&&"f"!==e||this.contact_tel?2!==t||"a"!==e&&"b"!==e&&"f"!==e||!this.contact_tel?2!==t||"a"===e||"b"===e||"f"===e||this.contact_tel?2===t&&"a"!==e&&"b"!==e&&"f"!==e&&this.contact_tel?"bd-btn-half bd-content-radius-1":"text  all-width all-radius ":"bd-btn-half bd-content-radius-0":"text bd-btn-half bd-content-radius-1":"text bd-btn-half bd-content-radius-0":"text bd-three-one bd-no-radius "},uBottomHeight:function(){return this.full_reduce&&this.goods.sell_time>0?"u-bottom-height-2":this.full_reduce||this.goods.sell_time>0?"u-bottom-height-1":"u-bottom-height-0"},leftTip:function(){var t="";return t=0==this.isTip&&this.goods.sell_time>0?"box-grow-1":"bd-btn-left bd-btn-half",this.goods&&"goods"===this.goods.type?t:""},disableBtn:function(){return this.goods.is_finish_sell?"btn-finish-sell":"bd-oversell-btn"},showRight:function(){return!(0==this.isTip&&this.goods.sell_time>0)},remindParams:function(){return{sell_time:this.goods.sell_time,goods_id:this.goods.id,template_message_list:this.goods.template_message_list,buy_text:"立即购买"}}}),onShareTimeline:function(){return this.$shareTimeline({title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.pic_url[0].pic_url,query:{id:this.goods.id}})},onShareAppMessage:function(){return this.hShareAppMessage()},methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({path:"/plugins/wholesale/goods/goods",title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:this.goods.pic_url[0].pic_url,desc:this.goods.subtitle,params:{id:this.goods.id}},t)},getMall:function(t){this.is_open=t.is_open},setCoupon:function(t){this.$set(this.goods.goods_coupon_center[t],"is_receive",1)},clickAttr:function(t){1===t&&this.goods.sell_time>0?this.rightTip():this.show=Math.random()},attr:function(t){this.appAttr=t},favorite:function(){var e=this.$api.user.favorite_add,o=!0;this.goods.favorite&&(e=this.$api.user.favorite_remove,o=!1),this.goods.favorite=o,this.$request({url:e,data:{goods_id:this.goods.id}}).then(function(e){0===e.code||t.showModal({title:"提示",content:e.msg,showCancel:!1})}).catch(function(t){})},back:function(){t.reLaunch({url:"/pages/index/index"})},request:(c=n.default.mark(function e(o){var r,i,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.url,i=o.data,e.next=3,this.$request({url:r,data:i});case 3:if(0!==(a=e.sent).code){e.next=8;break}return e.abrupt("return",a.data);case 8:t.showToast({title:a.msg,icon:"none",duration:1e3}),setTimeout(function(){t.navigateBack()},1e3);case 10:case"end":return e.stop()}},e,this)}),u=function(){var t=this,e=arguments;return new Promise(function(o,n){var r=c.apply(t,e);function i(t){a(r,o,n,i,s,"next",t)}function s(t){a(r,o,n,i,s,"throw",t)}i(void 0)})},function(t){return u.apply(this,arguments)}),attrtap:function(t){var e=this,o=this;if(null!==t.goods){if(o.goods=t.goods,t.goodsAttr&&"undefined"!==t.goodsAttr){var n=!0,r=!1,i=void 0;try{for(var a,s=t.goodsAttr[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,c=!0,u=!1,d=void 0;try{for(var h,g=o.goods.attr[Symbol.iterator]();!(c=(h=g.next()).done);c=!0){var p=h.value;l.id==p.id&&(p.number=l.number)}}catch(t){u=!0,d=t}finally{try{c||null==g.return||g.return()}finally{if(u)throw d}}}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}o.totalNumber=0;var f=0,b=!0,_=!1,m=void 0;try{for(var v,w=o.goods.attr[Symbol.iterator]();!(b=(v=w.next()).done);b=!0){var y=v.value;if(o.totalNumber+=+y.number,y.number>0){var T=1===o.goods.level_show?y.price_member:y.price;f+=y.number*T}}}catch(t){_=!0,m=t}finally{try{b||null==w.return||w.return()}finally{if(_)throw m}}if(o.goods.attr_groups.length>1){var x=!0,k=!1,S=void 0;try{for(var O,$=o.goods.attr_groups[0].attr_list[Symbol.iterator]();!(x=(O=$.next()).done);x=!0){var P=O.value;P.number=0;var j=!0,C=!1,A=void 0;try{for(var D,M=o.goods.attr[Symbol.iterator]();!(j=(D=M.next()).done);j=!0){var N=D.value;N.number>0&&P.attr_id==N.attr_list[0].attr_id&&P.attr_name==N.attr_list[0].attr_name&&(P.number+=+N.number,P.length=-5-10*+P.number.toString().length)}}catch(t){C=!0,A=t}finally{try{j||null==M.return||M.return()}finally{if(C)throw A}}}}catch(t){k=!0,S=t}finally{try{x||null==$.return||$.return()}finally{if(k)throw S}}}setTimeout(function(){var t=0,n=!0,r=!1,i=void 0;try{for(var a,s=o.goods.wholesaleGoods.wholesale_rules[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;o.totalNumber<l.num||(e.wholesaleDiscount=+l.discount,t++)}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}0==t&&(e.wholesaleDiscount=0==o.goods.wholesaleGoods.type?10:0),e.wholesaleDiscount>0&&(0==o.goods.wholesaleGoods.type?f*=e.wholesaleDiscount/10:f-=e.wholesaleDiscount*o.totalNumber),o.totalPrice=f.toFixed(2)},0)}},makePhoneCall:function(e){t.makePhoneCall({phoneNumber:e})},router:function(e){t.navigateTo({url:e})},changeTime:function(t){this.goods.sell_time=t}},components:{"app-banner":function(){return o.e(/*! import() | components/page-component/goods/app-goods-banner */"components/page-component/goods/app-goods-banner").then(o.bind(null,/*! ../../../components/page-component/goods/app-goods-banner.vue */2520))},"app-attr":function(){return o.e(/*! import() | plugins/wholesale/components/app-attr/app-attr */"plugins/wholesale/components/app-attr/app-attr").then(o.bind(null,/*! ../components/app-attr/app-attr.vue */3366))},"app-goods-full-reduce":function(){return o.e(/*! import() | components/page-component/goods/app-goods-full-reduce */"components/page-component/goods/app-goods-full-reduce").then(o.bind(null,/*! ../../../components/page-component/goods/app-goods-full-reduce.vue */2562))},appClose:function(){return o.e(/*! import() | components/basic-component/app-close/app-close */"components/basic-component/app-close/app-close").then(o.bind(null,/*! @/components/basic-component/app-close/app-close.vue */2618))},bdInfo:function(){return o.e(/*! import() | components/page-component/goods/bd-info */"components/page-component/goods/bd-info").then(o.bind(null,/*! @/components/page-component/goods/bd-info */2569))},bdCoupon:function(){return Promise.all(/*! import() | components/page-component/goods/bd-coupon */[o.e("common/vendor"),o.e("components/page-component/goods/bd-coupon")]).then(o.bind(null,/*! @/components/page-component/goods/bd-coupon.vue */2576))},bdXbc:function(){return o.e(/*! import() | components/page-component/goods/bd-xbc */"components/page-component/goods/bd-xbc").then(o.bind(null,/*! @/components/page-component/goods/bd-xbc.vue */2583))},bdKb:function(){return o.e(/*! import() | components/page-component/goods/bd-kb */"components/page-component/goods/bd-kb").then(o.bind(null,/*! @/components/page-component/goods/bd-kb.vue */2590))},bdHc:function(){return o.e(/*! import() | components/page-component/goods/bd-hc */"components/page-component/goods/bd-hc").then(o.bind(null,/*! @/components/page-component/goods/bd-hc.vue */2597))},bdDetail:function(){return o.e(/*! import() | components/page-component/goods/bd-detail */"components/page-component/goods/bd-detail").then(o.bind(null,/*! @/components/page-component/goods/bd-detail.vue */2604))},bdComments:function(){return o.e(/*! import() | components/page-component/goods/bd-comments */"components/page-component/goods/bd-comments").then(o.bind(null,/*! @/components/page-component/goods/bd-comments.vue */2611))},bdService:function(){return o.e(/*! import() | components/page-component/goods/bd-service */"components/page-component/goods/bd-service").then(o.bind(null,/*! @/components/page-component/goods/bd-service.vue */2625))},appSellTip:function(){return o.e(/*! import() | components/page-component/goods/app-sell-tip */"components/page-component/goods/app-sell-tip").then(o.bind(null,/*! @/components/page-component/goods/app-sell-tip.vue */2639))}}};e.default=d}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},1992:
/*!*********************************************************************************************************!*\
  !*** ./src/plugins/wholesale/goods/goods.vue?vue&type=style&index=0&id=19c856d8&scoped=true&lang=scss& ***!
  \*********************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=19c856d8&scoped=true&lang=scss& */1993),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e.default=r.a},1993:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/wholesale/goods/goods.vue?vue&type=style&index=0&id=19c856d8&scoped=true&lang=scss& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}},[[1986,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/plugins/wholesale/goods/goods.js.map
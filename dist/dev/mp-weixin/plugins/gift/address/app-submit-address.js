(global.webpackJsonp=global.webpackJsonp||[]).push([["plugins/gift/address/app-submit-address"],{3233:
/*!*********************************************************!*\
  !*** ./src/plugins/gift/address/app-submit-address.vue ***!
  \*********************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! ./app-submit-address.vue?vue&type=template&id=19f5b56d&scoped=true&filter-modules=%7B%7D& */3234),s=i(/*! ./app-submit-address.vue?vue&type=script&lang=js& */3236);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i(/*! ./app-submit-address.vue?vue&type=style&index=0&id=19f5b56d&lang=scss&scoped=true& */3238);var o=i(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(o.default)(s.default,r.render,r.staticRenderFns,!1,null,"19f5b56d",null);a.options.__file="src/plugins/gift/address/app-submit-address.vue",e.default=a.exports},3234:
/*!**************************************************************************************************************************!*\
  !*** ./src/plugins/gift/address/app-submit-address.vue?vue&type=template&id=19f5b56d&scoped=true&filter-modules=%7B%7D& ***!
  \**************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-submit-address.vue?vue&type=template&id=19f5b56d&scoped=true&filter-modules=%7B%7D& */3235);i.d(e,"render",function(){return r.render}),i.d(e,"staticRenderFns",function(){return r.staticRenderFns})},3235:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/gift/address/app-submit-address.vue?vue&type=template&id=19f5b56d&scoped=true&filter-modules=%7B%7D& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return r}),i.d(e,"staticRenderFns",function(){return s});var r=function(){var t=this.$createElement,e=(this._self._c,Object.keys(this.store)),i=Object.keys(this.store),r=Object.keys(this.store);this.$mp.data=Object.assign({},{$root:{g0:e,g1:i,g2:r}})},s=[];r._withStripped=!0},3236:
/*!**********************************************************************************!*\
  !*** ./src/plugins/gift/address/app-submit-address.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-submit-address.vue?vue&type=script&lang=js& */3237),s=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,function(){return r[t]})}(n);e.default=s.a},3237:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/gift/address/app-submit-address.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:["theme","address","goods_id","user_order_id","store_list","store_index","send_type","goods","remark","mch","dis_send_type","diyForm","store","template_message_captain"],data:function(){return{delivery:"express",name:"",mobile:"",send_text:"",hasCity:!1}},methods:{jump:function(){t.navigateTo({url:"/pages/order-submit/map"})},navigateAddress:function(){var e="/pages/order-submit/address-pick";e+="?sign=gift&id="+this.user_order_id+"&hasCity="+this.hasCity,t.navigateTo({url:e})},setMethod:function(t){this.delivery=t,this.send_text=t,this.hasCity=!1,this.$emit("delivery",t),"offline"===this.delivery?this.$emit("setMethod"):"city"===this.delivery?(this.hasCity=!0,this.$emit("city")):"express"===this.delivery&&this.$emit("express")},submit:function(){var t=this;this.$subscribe(this.template_message_captain).then(function(){t.submission()}).catch(function(){t.submission()})},submission:function(){var e=this;for(var i in this.goods){var r=this.goods[i];if(r.goods_form_validate_result&&r.goods_form_validate_result.hasError)return void t.showModal({title:"提示",content:r.goods_form_validate_result.errors[0].msg,showCancel:!1})}t.showLoading({title:"提交中"});for(var s={list:[{mch_id:0,goods_list:[],send_type:this.send_text,store_id:this.store.id,use_integral:0,user_coupon_id:0,remark:this.remark,order_form:this.diyForm}],address_id:this.address&&this.address.id?this.address.id:0,address:{name:this.name,mobile:this.mobile}},n=0;n<this.goods.length;n++){for(var o={id:this.goods[n].goods_id,attr:[],num:this.goods[n].num,cat_id:0,goods_attr_id:this.goods[n].goods_attr_id,cart_id:0,user_order_id:this.user_order_id,form_data:this.goods[n].form_data},a=[],d=this.goods[n].goods_info,u=0;u<d.length;u++)a.push({attr_id:d[u].attr_id,attr_group_id:d[u].attr_group_id});o.attr=a,s.list[0].goods_list.push(o)}this.$request({url:this.$api.gift.convert,method:"post",data:{form_data:JSON.stringify(s)}}).then(function(i){0===i.code?e.pay_data(i.data):(t.hideLoading(),t.showModal({title:"提示",content:i.msg}))})},route_go:function(){t.navigateTo({url:"/pages/order-submit/store-pick?plugin=gift"})},pay_data:function(e){var i=this;this.$request({url:this.$api.order.pay_data,method:"post",data:s({},e)}).then(function(r){if(0===r.code)if(r.data.hasOwnProperty("id")){var s=r.data.id;0==i.mch.express_price?i.$request({url:i.$api.payment.get_payments,method:"get",data:{id:s}}).then(function(e){0===e.code?i.$request({url:i.$api.payment.pay_data,method:"get",data:{id:s,pay_type:"balance"}}).then(function(e){0===e.code?i.$request({url:i.$api.payment.pay_buy_balance,data:{id:s}}).then(function(e){0===e.code?(t.hideLoading(),t.redirectTo({url:"/pages/order-submit/pay-result?payment_order_union_id=".concat(s,"&order_page_url=").concat(encodeURIComponent("/plugins/gift/order/order"))})):(t.hideLoading(),t.showModal({title:"提示",content:e.msg}))}):(t.hideLoading(),t.showModal({title:"提示",content:e.msg}))}):(t.hideLoading(),t.showModal({title:"提示",content:e.msg}))}):i.$payment.pay(s).then(function(e){t.hideLoading(),t.redirectTo({url:"/plugins/gift/order/order"})}).catch(function(e){t.hideLoading(),t.redirectTo({url:"/plugins/gift/order/order"})})}else setTimeout(function(){i.pay_data(e)},1e3);else t.hideLoading(),t.showModal({title:"提示",content:r.msg})})}},computed:s({},(0,i(/*! vuex */12).mapState)({appImg:function(t){return t.mallConfig.__wxapp_img}})),watch:{send_type:{handler:function(t){if(0!==t.length)for(var e=0;e<t.length;e++)this.dis_send_type===t[0].value&&(this.delivery=t[0].value,this.send_text=t[0].value,"city"===t[0].value&&(this.hasCity=!0))},immediate:!0}},components:{"app-iphone-x":function(){return i.e(/*! import() | components/basic-component/app-iphone-x/app-iphone-x */"components/basic-component/app-iphone-x/app-iphone-x").then(i.bind(null,/*! ../../../components/basic-component/app-iphone-x/app-iphone-x.vue */2471))}}};e.default=o}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},3238:
/*!*******************************************************************************************************************!*\
  !*** ./src/plugins/gift/address/app-submit-address.vue?vue&type=style&index=0&id=19f5b56d&lang=scss&scoped=true& ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-submit-address.vue?vue&type=style&index=0&id=19f5b56d&lang=scss&scoped=true& */3239),s=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,function(){return r[t]})}(n);e.default=s.a},3239:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/plugins/gift/address/app-submit-address.vue?vue&type=style&index=0&id=19f5b56d&lang=scss&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}}]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/plugins/gift/address/app-submit-address.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'plugins/gift/address/app-submit-address-create-component',
    {
        'plugins/gift/address/app-submit-address-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(3233))
        })
    },
    [['plugins/gift/address/app-submit-address-create-component']]
]);                

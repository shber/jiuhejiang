(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/address/address-edit"],{352:
/*!********************************************!*\
  !*** ./src/pages/address/address-edit.vue ***!
  \********************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! ./address-edit.vue?vue&type=template&id=03544202&scoped=true&filter-modules=%7B%7D& */353),n=i(/*! ./address-edit.vue?vue&type=script&lang=js& */355);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i(/*! ./address-edit.vue?vue&type=style&index=0&id=03544202&scoped=true&lang=scss& */358);var s=i(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */10),a=Object(s.default)(n.default,r.render,r.staticRenderFns,!1,null,"03544202",null);a.options.__file="src/pages/address/address-edit.vue",e.default=a.exports},353:
/*!*************************************************************************************************************!*\
  !*** ./src/pages/address/address-edit.vue?vue&type=template&id=03544202&scoped=true&filter-modules=%7B%7D& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address-edit.vue?vue&type=template&id=03544202&scoped=true&filter-modules=%7B%7D& */354);i.d(e,"render",function(){return r.render}),i.d(e,"staticRenderFns",function(){return r.staticRenderFns})},354:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/address/address-edit.vue?vue&type=template&id=03544202&scoped=true&filter-modules=%7B%7D& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return r}),i.d(e,"staticRenderFns",function(){return n});var r=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.focus=!1},t.e1=function(e){t.focus=!1})},n=[];r._withStripped=!0},355:
/*!*********************************************************************!*\
  !*** ./src/pages/address/address-edit.vue?vue&type=script&lang=js& ***!
  \*********************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../node_modules/babel-loader/lib!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address-edit.vue?vue&type=script&lang=js& */356),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);e.default=n.a},356:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/address/address-edit.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(i(/*! ./node_modules/@babel/runtime/regenerator */24)),n=i(/*! vuex */12),o=s(i(/*! ./address-parse.js */357));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t,e){if(null==t)return{};var i,r,n=function(t,e){if(null==t)return{};var i,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function d(t,e,i,r,n,o,s){try{var a=t[o](s),c=a.value}catch(t){return void i(t)}a.done?e(c):Promise.resolve(c).then(r,n)}function u(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var o=t.apply(e,i);function s(t){d(o,r,n,s,a,"next",t)}function a(t){d(o,r,n,s,a,"throw",t)}s(void 0)})}}function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(i,!0).forEach(function(e){h(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p,m,v,_={name:"address-edit",data:function(){return{form:{location:"",latitude:"",longitude:"",id:"",name:"",mobile:"",address:"",province_id:0,city_id:0,district_id:0,detail:"",type:""},is_refund_address:0,detail_url:"",list:[],submit_status:!1,tt_area_show:!1,automatic:"",provinceString:"",cityString:"",areaString:"",focus:!1}},computed:l({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),components:{appAreaPicker:function(){return i.e(/*! import() | components/page-component/app-area-picker/app-area-picker */"components/page-component/app-area-picker/app-area-picker").then(i.bind(null,/*! ../../components/page-component/app-area-picker/app-area-picker.vue */2703))},appTextArea:function(){return i.e(/*! import() | components/basic-component/app-textarea/app-textarea */"components/basic-component/app-textarea/app-textarea").then(i.bind(null,/*! ../../components/basic-component/app-textarea/app-textarea.vue */2710))}},onLoad:function(e){var i=this;if(this.$commonLoad.onload(e),this.form.type=1==e.type?1:0,this.getAutoInfo(),e.is_refund_address>0?(this.is_refund_address=e.is_refund_address,this.detail_url=this.$api.app_admin.refund_address_edit,t.setNavigationBarTitle({title:"编辑退货地址"})):(this.is_refund_address=0,this.detail_url=this.$api.user.address_detail),e.form){var r=JSON.parse(e.form);void 0===r.type&&(r.type=this.form.type),this.form=r}e.id>0?(this.$showLoading({title:"加载中"}),this.$request({url:this.detail_url,data:e}).then(function(r){if(i.$hideLoading(),0===r.code)if(e.is_refund_address>0){var n=r.data.detail;i.getInfo(Object.assign({detail:n.address_detail},n))}else i.form=r.data.list;else t.showToast({title:r.msg,icon:"none"});i.tt_area_show=!0}).catch(function(){i.$hideLoading(),i.tt_area_show=!0})):this.tt_area_show=!0},methods:{getAutoInfo:(v=u(r.default.mark(function t(){var e,i,n,o,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.user.auto_address_info,method:"get"});case 2:0===(e=t.sent).code&&(i=JSON.parse(e.data),n=i.reduce(function(t,e){e.children;var i=c(e,["children"]);return t.concat(i)},[]),o=i.reduce(function(t,e){return t.concat(e.children.map(function(t){t.children;return l({},c(t,["children"]),{provinceCode:e.code})}))},[]),s=i.reduce(function(t,e){var i=e.code;return t.concat(e.children.reduce(function(t,e){var r=e.code;return t.concat(e.children.map(function(t){t.children;return l({},c(t,["children"]),{cityCode:r,provinceCode:i})}))},[]))},[]),this.provinceString=JSON.stringify(n),this.cityString=JSON.stringify(o),this.areaString=JSON.stringify(s));case 4:case"end":return t.stop()}},t,this)})),function(){return v.apply(this,arguments)}),getChooseLocation:(m=u(r.default.mark(function e(){var i,n,o,s,c,d;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,e.next=3,t.chooseLocation();case 3:n=e.sent,o=a(n,2),s=o[0],(c=o[1])&&(i.form.location=c.address+c.name,i.form.latitude=c.latitude,i.form.longitude=c.longitude),s&&(d=function(){t.showModal({title:"授权权限",content:"请先授权地理位置权限",success:function(e){e.confirm&&t.openSetting({success:function(e){e.authSetting["scope.userLocation"]?t.chooseLocation({success:function(t){i.form.location=t.address+t.name,i.form.latitude=t.latitude,i.form.longitude=t.longitude}}):t.showToast({title:"授权失败",icon:"none"})}})}})},"chooseLocation:fail auth deny"===s.errMsg&&d());case 9:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),getInfo:function(e){var i=this;this.$request({url:this.$api.user.wechat_district,data:{province_name:e.address[0],city_name:e.address[1],county_name:e.address[2]}}).then(function(t){if(0===t.code){var r=t.data.district,n=r.province,o=r.city,s=r.district;e.province_id=n.id,e.city_id=o.id,e.district_id=s.id,i.form=e}}).catch(function(){t.showToast({title:"网络异常",icon:"none"})})},areaEvent:function(t){t&&(this.form.province_id=t.province.id,this.form.city_id=t.city.id,this.form.district_id=t.district.id,this.list=[t.province.name,t.city.name,t.district.name])},submit:(p=u(r.default.mark(function e(){var i,n,o,s,a,c,d,u,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.submit_status){e.next=3;break}return e.abrupt("return");case 3:if(this.form.detail||(i=1==this.form.type?"门牌号不能为空":"详细地址不能为空"),this.form.province_id||0!=this.form.type||(i="地区不能为空"),this.form.mobile||(i="联系方式不能为空"),this.$validation.umobile(this.form.mobile)||(i="联系方式格式错误"),this.form.name||(i="姓名不能为空"),!i){e.next=11;break}return t.showToast({title:i,icon:"none"}),e.abrupt("return");case 11:return this.submit_status=!0,this.is_refund_address>0?(s=this.form,a=s.id,c=s.name,d=s.mobile,u=s.detail,o=this.$api.app_admin.refund_address_edit,n={form:JSON.stringify({id:a,name:c,mobile:d,address_detail:u,address:this.list,is_default:0,remark:""})}):(o=this.$api.user.address_save,n=Object.assign({},this.form)),e.next=15,this.$request({url:o,data:n,method:"POST"});case 15:f=e.sent,this.submit_status=!1,0===f.code?(t.showToast({title:f.msg,icon:"none"}),t.navigateBack({delta:1})):t.showToast({title:f.msg,icon:"none"}),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(0),this.submit_status=!1,new Error(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,20]])})),function(){return p.apply(this,arguments)}),getAddress:function(){var t=(0,o.default)(this.automatic,{},this.provinceString,this.cityString,this.areaString);if(!this.$validation.empty(t)){for(var e=this.$storage.getStorageSync("_DISTRICT"),i=t.name,r=t.province,n=t.city,s=t.area,a=t.phone,c=t.detail,d=0;d<e.length;d++)if(e[d].name===r){for(var u=0;u<e[d].list.length;u++){if(e[d].list[u].name===n){for(var f=0;f<e[d].list[u].list.length;f++)if(e[d].list[u].list[f].name===s){this.form.province_id=e[d].id,this.form.city_id=e[d].list[u].id,this.form.district_id=e[d].list[u].list[f].id;break}break}if("市辖区"===n){for(var l=0;l<e[d].list[u].list.length;l++)if(e[d].list[u].list[l].name===s){this.form.province_id=e[d].id,this.form.city_id=e[d].list[u].id,this.form.district_id=e[d].list[u].list[l].id;break}break}}break}this.form.name=i,this.form.detail="".concat(c),this.form.mobile=a}},detailFocus:function(){this.focus=!0}}};e.default=_}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},358:
/*!******************************************************************************************************!*\
  !*** ./src/pages/address/address-edit.vue?vue&type=style&index=0&id=03544202&scoped=true&lang=scss& ***!
  \******************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var r=i(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address-edit.vue?vue&type=style&index=0&id=03544202&scoped=true&lang=scss& */359),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);e.default=n.a},359:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/address/address-edit.vue?vue&type=style&index=0&id=03544202&scoped=true&lang=scss& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[351,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/address/address-edit.js.map
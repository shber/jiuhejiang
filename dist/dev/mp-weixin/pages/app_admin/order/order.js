(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/app_admin/order/order"],{885:
/*!*********************************************!*\
  !*** ./src/pages/app_admin/order/order.vue ***!
  \*********************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var s=i(/*! ./order.vue?vue&type=template&id=3dae109b&scoped=true&filter-modules=%7B%7D& */886),n=i(/*! ./order.vue?vue&type=script&lang=js& */888);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i(/*! ./order.vue?vue&type=style&index=0&id=3dae109b&scoped=true&lang=scss& */890);var o=i(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */10),r=Object(o.default)(n.default,s.render,s.staticRenderFns,!1,null,"3dae109b",null);r.options.__file="src/pages/app_admin/order/order.vue",e.default=r.exports},886:
/*!**************************************************************************************************************!*\
  !*** ./src/pages/app_admin/order/order.vue?vue&type=template&id=3dae109b&scoped=true&filter-modules=%7B%7D& ***!
  \**************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e);var s=i(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=3dae109b&scoped=true&filter-modules=%7B%7D& */887);i.d(e,"render",function(){return s.render}),i.d(e,"staticRenderFns",function(){return s.staticRenderFns})},887:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/app_admin/order/order.vue?vue&type=template&id=3dae109b&scoped=true&filter-modules=%7B%7D& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return s}),i.d(e,"staticRenderFns",function(){return n});var s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.getFocus=!1},t.e1=function(e){t.getFocus=!0},t.e2=function(e){t.show=!t.show},t.e3=function(e){t.show=!t.show})},n=[];s._withStripped=!0},888:
/*!**********************************************************************!*\
  !*** ./src/pages/app_admin/order/order.vue?vue&type=script&lang=js& ***!
  \**********************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var s=i(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js& */889),n=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);e.default=n.a},889:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/app_admin/order/order.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{status:1,num:"-1",getFocus:!1,more_list:!1,cityList:[],deliveryId:"0",delivery:"",addressId:"0",refund_price:0,theme:{color:"#446dfd"},page:1,menu:[{name:"待收货",value:"2"},{name:"待退款",value:"4"},{name:"已收货",value:"9"},{name:"已完成",value:"3"}],active:null,show:!1,search:!1,keyword:"",list:[],candidate:[],date_start:"",date_end:"",time:0,inSearch:!1,address:[],chooseTime:!1,msg:!1,searchResult:!1,total:0,about:"",iphone_x:!1,loading:!1}},components:{"app-time-screening":function(){return i.e(/*! import() | components/page-component/app-time-screening/app-time-screening */"components/page-component/app-time-screening/app-time-screening").then(i.bind(null,/*! ../../../components/page-component/app-time-screening/app-time-screening.vue */2911))},"order-menu":function(){return i.e(/*! import() | pages/app_admin/components/order-menu */"pages/app_admin/components/order-menu").then(i.bind(null,/*! ../components/order-menu.vue */2918))}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},(0,i(/*! vuex */12).mapState)({userInfo:function(t){return t.user.info},adminImg:function(t){return t.mallConfig.__wxapp_img.app_admin}})),onReachBottom:function(){this.getMore()},methods:{cancel:function(t){if(t&&t.id)for(var e in this.list)this.list[e].id==t.id&&(this.list[e]=t,this.$forceUpdate());this.chooseTime=!1},toCall:function(t){t.showMobile=!0},update:function(e){if(0==e)this.page=1,t.showLoading({mask:!0,title:"加载中..."}),this.getList();else for(var i in this.list)this.list[i].id==e.id&&(this.list[i]=e,this.$forceUpdate())},clearSearch:function(){this.keyword=""},reload:function(){t.showLoading({mask:!0,title:"加载中..."}),this.page=1,this.list=[],this.getList()},toDetail:function(e,i){t.navigateTo({url:"/pages/app_admin/order-detail/order-detail?id="+e+"&status="+i})},toRedirect:function(e){t.redirectTo({url:e})},tabStatus:function(e){this.status=e,this.active=null,this.list=[],this.date_start="",this.date_end="",this.keyword="",this.time=0,this.show=!1,this.num="-1",this.page=1,t.showLoading({mask:!0,title:"加载中..."}),this.getList()},toSearch:function(){this.search=!0,this.list=[],this.searchResult=!1,this.candidate=this.$storage.getStorageSync("keyword")?this.$storage.getStorageSync("keyword"):[],this.inSearch=!1},keywordSearch:function(e){this.keyword=e,this.searchResult=!0,t.showLoading({mask:!0,title:"加载中..."}),this.page=1,this.getList()},clear:function(){this.$storage.removeStorageSync("keyword"),this.candidate=[],t.showToast({title:"清理成功",duration:1e3,type:"success",mask:!1})},searchMethod:function(){var e=this.$storage.getStorageSync("keyword")?this.$storage.getStorageSync("keyword"):[];0!==this.keyword.length&&(e.length>0?e.unshift(this.keyword):e=[this.keyword],t.showLoading({mask:!0,title:"加载中..."}),this.page=1,this.getList(),e.forEach(function(t,i){e[0]==e[i]&&i>0&&e.splice(i,1)}),this.$storage.setStorageSync("keyword",e),this.inSearch=!0,this.searchResult=!0)},cancelSeacrch:function(){t.showLoading({mask:!0,title:"加载中..."}),this.search=!1,this.keyword="",this.page=1,this.getList()},toChoose:function(e){t.showLoading({mask:!0,title:"加载中..."}),this.date_start=e.date_start,this.date_end=e.date_end,this.time=e.choose,this.page=1,this.getList(),this.chooseTime=!1},toTime:function(){this.chooseTime=!this.chooseTime,this.show=!1},chooseItem:function(e){var i=this;t.showLoading({mask:!0,title:"加载中..."}),i.num=e,i.menu.forEach(function(t,e){t.value==i.num&&(i.active=t)}),i.show=!i.show,i.page=1,i.list=[],i.getList()},tab:function(e){this.num=e,this.show=!1,this.active=null,this.list=[],this.keyword="",this.page=1,t.showLoading({mask:!0,title:"加载中..."}),this.getList()},getList:function(){var e,i=this;if(i.loading)return!1;i.loading=!0,i.about="",1==this.status?e=i.$api.app_admin.order:2==this.status&&(e=i.$api.app_admin.refund),i.$request({url:e,data:{status:i.num,date_end:i.date_end,date_start:i.date_start,page:i.page,keyword:i.keyword}}).then(function(e){if(i.$hideLoading(),t.hideLoading(),i.loading=!1,0==e.code){var s=e.data.list;if(2==i.status){var n=[];s.forEach(function(t){t.showMobile=!1,t.detail=[t.detail],n=t.status_cn.split(" "),t.refund_status_cn=n[n.length-1]});var a=e.data.address;a.forEach(function(t){t.address=t.address.replace(/"/g,""),t.address=t.address.replace(/,/g,""),t.address=t.address.replace("[",""),t.address=t.address.replace("]","")}),i.address=a}else s.forEach(function(t){t.showMobile=!1,t.detail.forEach(function(e){1!=e.refund_status&&2!=e.refund_status||(t.have_refund=1)})});i.more_list=!1,s.length==e.data.pagination.pageSize&&(i.more_list=!0),1==i.page?i.list=s:i.list=i.list.concat(s),i.page++,i.$forceUpdate()}else t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(){i.loading=!1,i.$hideLoading(),t.hideLoading()})},toRefundOrder:function(t){this.list=[],this.more_list=!1,this.keyword=t,this.status=2,this.search=!0,this.searchMethod()},getMore:function(){(this.more_list&&this.searchResult&&this.search||!this.search)&&this.getList()},toSendType:function(){var e,i=this;1!=i.sendType&&2!=i.detail.send_type||(t.showLoading({mask:!0,title:"加载中..."}),e={is_express:0,words:"",order_id:i.detail.id},2==i.detail.send_type&&(e.man=i.delivery),i.$request({url:i.$api.app_admin.send,data:e,method:"post"}).then(function(e){t.hideLoading(),0===e.code?(t.showToast({title:e.msg,type:"success",mask:!1,duration:2e3}),i.page=1,i.isSend=!1,i.sendType=0,i.getList()):t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading(),t.showToast({title:e,icon:"none",duration:1e3})}))},look:function(e){t.previewImage({current:e,urls:[e]})},lookAbout:function(t){this.detail=t,this.isReason=!0},toConfirm:function(t){this.detail=t,this.confirmOrder=!this.confirmOrder},toRefund:function(t){this.detail=t,this.refund_price=t.refund_price,this.isRefund=!this.isRefund},agree:function(){var e=this;t.showLoading({mask:!0,title:"处理中..."}),e.detail.refund_price>0?e.$request({url:e.$api.app_admin.refund_handle,data:{order_refund_id:e.detail.id,type:e.detail.type,is_agree:1,refund_price:e.refund_price,merchant_remark:e.about},method:"post"}).then(function(i){t.hideLoading(),0===i.code?t.showModal({title:"提示",content:i.msg,showCancel:!1,success:function(i){i.confirm&&(e.notRefund=!1,e.openAddress=!1,e.isRefund=!1,e.addressId=0,e.page=1,t.showLoading({mask:!0,title:"加载中..."}),e.getList())}}):t.showToast({title:i.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading(),t.showToast({title:e,icon:"none",duration:1e3})}):t.showToast({title:"退款金额需大于零",icon:"none",duration:1e3})},refundHandle:function(t,e,i){1==i&&(this.cancelRefund=!0),1==t?3==e.type?(this.refundOnly=!0,this.detail=e):0!=e.order.send_type?(this.cityRefund=!0,this.detail=e):0==this.address.length?this.noAddress=!0:(this.detail=e,this.openAddress=!0):2==t&&(this.detail=e,this.notRefund=!0)},toAgreeCancel:function(t){this.detail=t,this.isReason=!this.isReason,this.noRefund=!1},decline:function(e){var i=this,s={order_refund_id:i.detail.id,type:i.detail.type,is_agree:0!=e?1:0,refund_price:i.detail.refund_price,merchant_remark:i.about};if(1==e){if(i.addressId<1)return t.showToast({title:"请选择地址",icon:"none",duration:1e3}),!1;s.address_id=i.addressId}4==e&&(s.refund=1),i.cancelRefund&&(e=2,s.is_agree=2),t.showLoading({mask:!0,title:"处理中..."}),i.$request({url:i.$api.app_admin.refund_handle,data:s,method:"post"}).then(function(e){t.hideLoading(),0===e.code?t.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(t){t.confirm&&(i.page=1,i.notRefund=!1,i.cancelOrder=!1,i.openAddress=!1,i.refundOnly=!1,i.cityRefund=!1,i.addressId=0,i.getList())}}):t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading(),t.showToast({title:e,icon:"none",duration:1e3})})},chooseAddress:function(t){this.addressId==t?this.addressId="":this.addressId=t},chooseDelivery:function(t){this.getDeliveryId==t.id?this.deliveryId="":(this.deliveryId=t.id,this.delivery="("+t.id+")"+t.name)},noCancel:function(){var e=this;t.showLoading({mask:!0,title:"处理中..."}),e.$request({url:e.$api.app_admin.cancel,data:{status:2,remark:e.about,order_id:e.detail.id},method:"post"}).then(function(i){t.hideLoading(),0===i.code?(t.showToast({title:i.msg,type:"success",mask:!1,duration:2e3}),e.page=1,e.noRefund=!1,e.isReason=!1,e.getList()):t.showToast({title:i.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading(),t.showToast({title:e,icon:"none",duration:1e3})})},beNotRefund:function(t){this.detail=t,this.isReason=!this.isReason,this.noRefund=!this.noRefund}},onShow:function(){this.page=1,this.getList()},onLoad:function(e){var i=this;this.$commonLoad.onload(e);this.$showLoading({type:"global",text:"加载中..."}),this.status=1,this.num="-1";var s=new Date,n=s.getFullYear(),a=s.getMonth()+1;a>=1&&a<=9&&(a="0"+a);var o=s.getDate();this.today=n+"-"+a+"-"+o;var r=Date.parse(new Date),d=new Date(1e3*(r/1e3-86400)),h=d.getFullYear(),c=d.getMonth()+1;c>=1&&c<=9&&(c="0"+c);var u=d.getDate();this.yesterday=h+"-"+c+"-"+u;var l=new Date(1e3*(r/1e3-604800)),f=l.getFullYear(),g=l.getMonth()+1;g>=1&&g<=9&&(g="0"+g);var p=l.getDate();this.weekday=f+"-"+g+"-"+p,this.$request({url:this.$api.app_admin.delivery}).then(function(e){0===e.code?(i.cityList=e.data.list,i.deliveryId=e.data.list[0].id,i.delivery="("+e.data.list[0].id+")"+e.data.list[0].name):t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){t.hideLoading()}),e.msg&&(this.msg=!0),e.status>-1&&(this.num=e.status.toString()),e.refund>0&&(this.status=2),e.no&&("RE"===e.no.slice(0,2)&&(this.status=2),this.search=!0,this.inSearch=!0,this.keyword=e.no,this.getList())}};e.default=a}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},890:
/*!*******************************************************************************************************!*\
  !*** ./src/pages/app_admin/order/order.vue?vue&type=style&index=0&id=3dae109b&scoped=true&lang=scss& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var s=i(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&id=3dae109b&scoped=true&lang=scss& */891),n=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);e.default=n.a},891:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/app_admin/order/order.vue?vue&type=style&index=0&id=3dae109b&scoped=true&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[884,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/app_admin/order/order.js.map